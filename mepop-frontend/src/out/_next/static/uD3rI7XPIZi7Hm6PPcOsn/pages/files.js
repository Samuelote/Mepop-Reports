(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{"9vLD":function(e,t){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",o=e.type||"",i=o.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim();return"."===t.charAt(0)?r.toLowerCase().endsWith(t.toLowerCase()):t.endsWith("/*")?i===t.replace(/\/.*$/,""):o===t}))}return!0}}])},FIWN:function(e,t,n){"use strict";var r=function(){};e.exports=r},eX7b:function(e,t,n){"use strict";n.r(t);var r=n("mXGw"),o=n.n(r),i=n("Fcif"),a=n("xWvD"),c=n("W0B4"),u=n.n(c),l=n("bb6g"),s=new Map([["avi","video/avi"],["gif","image/gif"],["ico","image/x-icon"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["mkv","video/x-matroska"],["mov","video/quicktime"],["mp4","video/mp4"],["pdf","application/pdf"],["png","image/png"],["zip","application/zip"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]]);function f(e,t){var n=function(e){var t=e.name;if(t&&-1!==t.lastIndexOf(".")&&!e.type){var n=t.split(".").pop().toLowerCase(),r=s.get(n);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}(e);if("string"!==typeof n.path){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:"string"===typeof t?t:"string"===typeof r&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}var p=[".DS_Store","Thumbs.db"];function d(e){return l.__awaiter(this,void 0,void 0,(function(){return l.__generator(this,(function(t){return[2,(n=e,n.dataTransfer&&e.dataTransfer?v(e.dataTransfer,e.type):g(e))];var n}))}))}function g(e){return(null!==e.target&&e.target.files?m(e.target.files):[]).map((function(e){return f(e)}))}function v(e,t){return l.__awaiter(this,void 0,void 0,(function(){var n;return l.__generator(this,(function(r){switch(r.label){case 0:return e.items?(n=m(e.items).filter((function(e){return"file"===e.kind})),"drop"!==t?[2,n]:[4,Promise.all(n.map(y))]):[3,2];case 1:return[2,b(h(r.sent()))];case 2:return[2,b(m(e.files).map((function(e){return f(e)})))]}}))}))}function b(e){return e.filter((function(e){return-1===p.indexOf(e.name)}))}function m(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function y(e){if("function"!==typeof e.webkitGetAsEntry)return D(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?w(t):D(e)}function h(e){return e.reduce((function(e,t){return l.__spread(e,Array.isArray(t)?h(t):[t])}),[])}function D(e){var t=e.getAsFile();if(!t)return Promise.reject(e+" is not a File");var n=f(t);return Promise.resolve(n)}function O(e){return l.__awaiter(this,void 0,void 0,(function(){return l.__generator(this,(function(t){return[2,e.isDirectory?w(e):j(e)]}))}))}function w(e){var t=e.createReader();return new Promise((function(e,n){var r=[];!function o(){var i=this;t.readEntries((function(t){return l.__awaiter(i,void 0,void 0,(function(){var i,a,c;return l.__generator(this,(function(u){switch(u.label){case 0:if(t.length)return[3,5];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return i=u.sent(),e(i),[3,4];case 3:return a=u.sent(),n(a),[3,4];case 4:return[3,6];case 5:c=Promise.all(t.map(O)),r.push(c),o(),u.label=6;case 6:return[2]}}))}))}),(function(e){n(e)}))}()}))}function j(e){return l.__awaiter(this,void 0,void 0,(function(){return l.__generator(this,(function(t){return[2,new Promise((function(t,n){e.file((function(n){var r=f(n,e.fullPath);t(r)}),(function(e){n(e)}))}))]}))}))}var x=n("9vLD"),F=n.n(x);function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){o=!0,i=u}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var k=function(e){e=Array.isArray(e)&&1===e.length?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:"file-invalid-type",message:"File type must be ".concat(t)}},C=function(e){return{code:"file-too-large",message:"File is larger than ".concat(e," bytes")}},E=function(e){return{code:"file-too-small",message:"File is smaller than ".concat(e," bytes")}},_={code:"too-many-files",message:"Too many files"};function P(e,t){var n="application/x-moz-file"===e.type||F()(e,t);return[n,n?null:k(t)]}function S(e,t,n){if(z(e.size))if(z(t)&&z(n)){if(e.size>n)return[!1,C(n)];if(e.size<t)return[!1,E(t)]}else{if(z(t)&&e.size<t)return[!1,E(t)];if(z(n)&&e.size>n)return[!1,C(n)]}return[!0,null]}function z(e){return void 0!==e&&null!==e}function R(e){return"function"===typeof e.isPropagationStopped?e.isPropagationStopped():"undefined"!==typeof e.cancelBubble&&e.cancelBubble}function T(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e})):!!e.target&&!!e.target.files}function I(e){e.preventDefault()}function L(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t.some((function(t){return!R(e)&&t&&t.apply(void 0,[e].concat(r)),R(e)}))}}function N(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){o=!0,i=u}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(n,!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var q=Object(r.forwardRef)((function(e,t){var n=e.children,i=G(X(e,["children"])),a=i.open,c=X(i,["open"]);return Object(r.useImperativeHandle)(t,(function(){return{open:a}}),[a]),o.a.createElement(r.Fragment,null,n(M({},c,{open:a})))}));q.displayName="Dropzone",q.propTypes={children:u.a.func,accept:u.a.oneOfType([u.a.string,u.a.arrayOf(u.a.string)]),multiple:u.a.bool,preventDropOnDocument:u.a.bool,noClick:u.a.bool,noKeyboard:u.a.bool,noDrag:u.a.bool,noDragEventsBubbling:u.a.bool,minSize:u.a.number,maxSize:u.a.number,disabled:u.a.bool,getFilesFromEvent:u.a.func,onFileDialogCancel:u.a.func,onDragEnter:u.a.func,onDragLeave:u.a.func,onDragOver:u.a.func,onDrop:u.a.func,onDropAccepted:u.a.func,onDropRejected:u.a.func};var H={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.accept,n=e.disabled,o=void 0!==n&&n,i=e.getFilesFromEvent,a=void 0===i?d:i,c=e.maxSize,u=void 0===c?1/0:c,l=e.minSize,s=void 0===l?0:l,f=e.multiple,p=void 0===f||f,g=e.onDragEnter,v=e.onDragLeave,b=e.onDragOver,m=e.onDrop,y=e.onDropAccepted,h=e.onDropRejected,D=e.onFileDialogCancel,O=e.preventDropOnDocument,w=void 0===O||O,j=e.noClick,x=void 0!==j&&j,F=e.noKeyboard,k=void 0!==F&&F,C=e.noDrag,E=void 0!==C&&C,z=e.noDragEventsBubbling,K=void 0!==z&&z,q=Object(r.useRef)(null),G=Object(r.useRef)(null),J=B(Object(r.useReducer)(U,H),2),V=J[0],$=J[1],Z=V.isFocused,Q=V.isFileDialogActive,Y=V.draggedFiles,ee=Object(r.useCallback)((function(){G.current&&($({type:"openDialog"}),G.current.value=null,G.current.click())}),[$]),te=function(){Q&&setTimeout((function(){G.current&&(G.current.files.length||($({type:"closeDialog"}),"function"===typeof D&&D()))}),300)};Object(r.useEffect)((function(){return window.addEventListener("focus",te,!1),function(){window.removeEventListener("focus",te,!1)}}),[G,Q,D]);var ne=Object(r.useCallback)((function(e){q.current&&q.current.isEqualNode(e.target)&&(32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),ee()))}),[q,G]),re=Object(r.useCallback)((function(){$({type:"focus"})}),[]),oe=Object(r.useCallback)((function(){$({type:"blur"})}),[]),ie=Object(r.useCallback)((function(){x||(!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return function(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}(e)||function(e){return-1!==e.indexOf("Edge/")}(e)}()?ee():setTimeout(ee,0))}),[G,x]),ae=Object(r.useRef)([]),ce=function(e){q.current&&q.current.contains(e.target)||(e.preventDefault(),ae.current=[])};Object(r.useEffect)((function(){return w&&(document.addEventListener("dragover",I,!1),document.addEventListener("drop",ce,!1)),function(){w&&(document.removeEventListener("dragover",I),document.removeEventListener("drop",ce))}}),[q,w]);var ue=Object(r.useCallback)((function(e){e.preventDefault(),e.persist(),ve(e),ae.current=[].concat(N(ae.current),[e.target]),T(e)&&Promise.resolve(a(e)).then((function(t){R(e)&&!K||($({draggedFiles:t,isDragActive:!0,type:"setDraggedFiles"}),g&&g(e))}))}),[a,g,K]),le=Object(r.useCallback)((function(e){if(e.preventDefault(),e.persist(),ve(e),e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(t){}return T(e)&&b&&b(e),!1}),[b,K]),se=Object(r.useCallback)((function(e){e.preventDefault(),e.persist(),ve(e);var t=ae.current.filter((function(e){return q.current&&q.current.contains(e)})),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),ae.current=t,t.length>0||($({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),T(e)&&v&&v(e))}),[q,v,K]),fe=Object(r.useCallback)((function(e){e.preventDefault(),e.persist(),ve(e),ae.current=[],T(e)&&Promise.resolve(a(e)).then((function(n){if(!R(e)||K){var r=[],o=[];n.forEach((function(e){var n=B(P(e,t),2),i=n[0],a=n[1],c=B(S(e,s,u),2),l=c[0],f=c[1];if(i&&l)r.push(e);else{var p=[a,f].filter((function(e){return e}));o.push({file:e,errors:p})}})),!p&&r.length>1&&(r.forEach((function(e){o.push({file:e,errors:[_]})})),r.splice(0)),$({acceptedFiles:r,fileRejections:o,type:"setFiles"}),m&&m(r,o,e),o.length>0&&h&&h(o,e),r.length>0&&y&&y(r,e)}})),$({type:"reset"})}),[p,t,s,u,a,m,y,h,K]),pe=function(e){return o?null:e},de=function(e){return k?null:pe(e)},ge=function(e){return E?null:pe(e)},ve=function(e){K&&e.stopPropagation()},be=Object(r.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,r=e.onKeyDown,i=e.onFocus,a=e.onBlur,c=e.onClick,u=e.onDragEnter,l=e.onDragOver,s=e.onDragLeave,f=e.onDrop,p=X(e,["refKey","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"]);return M(W({onKeyDown:de(L(r,ne)),onFocus:de(L(i,re)),onBlur:de(L(a,oe)),onClick:pe(L(c,ie)),onDragEnter:ge(L(u,ue)),onDragOver:ge(L(l,le)),onDragLeave:ge(L(s,se)),onDrop:ge(L(f,fe))},n,q),o||k?{}:{tabIndex:0},{},p)}}),[q,ne,re,oe,ie,ue,le,se,fe,k,E,o]),me=Object(r.useCallback)((function(e){e.stopPropagation()}),[]),ye=Object(r.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.refKey,r=void 0===n?"ref":n,o=e.onChange,i=e.onClick,a=X(e,["refKey","onChange","onClick"]),c=W({accept:t,multiple:p,type:"file",style:{display:"none"},onChange:pe(L(o,fe)),onClick:pe(L(i,me)),autoComplete:"off",tabIndex:-1},r,G);return M({},c,{},a)}}),[G,t,p,fe,o]),he=Y.length,De=he>0&&function(e){var t=e.files,n=e.accept,r=e.minSize,o=e.maxSize;return!(!e.multiple&&t.length>1)&&t.every((function(e){var t=A(P(e,n),1)[0],i=A(S(e,r,o),1)[0];return t&&i}))}({files:Y,accept:t,minSize:s,maxSize:u,multiple:p});return M({},V,{isDragAccept:De,isDragReject:he>0&&!De,isFocused:Z&&!o,getRootProps:be,getInputProps:ye,rootRef:q,inputRef:G,open:pe(ee)})}function U(e,t){switch(t.type){case"focus":return M({},e,{isFocused:!0});case"blur":return M({},e,{isFocused:!1});case"openDialog":return M({},e,{isFileDialogActive:!0});case"closeDialog":return M({},e,{isFileDialogActive:!1});case"setDraggedFiles":var n=t.isDragActive;return M({},e,{draggedFiles:t.draggedFiles,isDragActive:n});case"setFiles":return M({},e,{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return M({},e,{isFileDialogActive:!1,isDragActive:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]});default:return e}}var J=n("UutA"),V=n("LwVe"),$=n("S8+C"),Z=n("3pBO"),Q=n("sDaF"),Y=n("DbvR"),ee=n("g+ks"),te=n("/m4v"),ne=n("pVhf"),re=n("50g9"),oe=o.a.createElement,ie=function(e){var t=e.modalIsOpen,n=e.toggleModal;return oe(re.a,{isOpen:t,onRequestClose:function(){return n(!1)}},oe($.a,{p:"50px",pt:"0px",flexDirection:"column"},oe(Y.a,{fontSize:"25px"},"How to get your files..."),oe("ol",null,oe("li",null,oe(Y.a,null,"Login to Depop")),oe("li",null,oe(Y.a,null,"Click 'Profile' (top right corner)")),oe("li",null,oe(Y.a,null,"Click 'Download Sales' (top right corner)")),oe("li",null,oe(Y.a,null,"Select date range and click 'Download'"))),oe("img",{src:"/get-files.gif"})))},ae=n("9TNo"),ce=o.a.createElement,ue=Object(a.c)((function(e){var t=e.firebase,n=Object(te.b)(),o=Object(ae.useToasts)().addToast,a=Object(te.c)((function(e){return e.generalReducer})).files,c=Object(r.useState)(a.length),u=c[0],l=c[1],s=Object(r.useState)(!1),f=s[0],p=s[1],d=Object(r.useState)(null),g=d[0],v=d[1],b=Object(r.useState)(!1),m=b[0],y=b[1],h=Object(r.useCallback)((function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&l(!0),p(!0),Object(ee.a)({firebase:t,dispatch:n},(function(){l(!1),p(!1),v(null)}))}),[]);Object(r.useEffect)((function(){l(!0),h()}),[h]);var D=function(e,t){o(ce("div",null,e||"Error Occurred"),{appearance:"error",autoDismiss:t}),l(!1),p(!1)},O=G({onDrop:Object(r.useCallback)((function(e){e.length?t.uploadFiles(e,h,D):D("File appears to be of wrong format.",!0)}),[]),accept:".csv"}),w=O.getRootProps,j=O.getInputProps,x=O.isDragActive;return ce(le,null,ce(ie,{modalIsOpen:m,toggleModal:y}),ce($.a,{justifyContent:"flex-end",px:"10px"},ce(Q.a,{title:"What's this?"},ce(Z.a,{bg:"transparent",color:"greyDarkest",fontSize:"20px",onClick:function(){return y(!m)}},ce("i",{className:"fa fa-question-circle"})))),ce(se,Object(i.a)({isDragActive:x},w()),ce("input",j()),ce(fe,null,"Drop files here"),ce("p",null,"or"),ce(Z.a,{color:"blue",bg:"white",size:"lg"},"Select Files"),ce("p",null,"Files must be from Depop to be valid")),ce(V.a,{headerContent:"Uploaded Files",isLoading:u,minHeight:"200px",mb:"100px"},a.length?ce(ge,null,a.map((function(e,n){var r=e.filename;return ce(pe,{key:n,index:n},ce(Q.a,{title:"Delete file",arrow:!1,position:"right"},ce(de,{disabled:f,"aria-label":"Click to delete ".concat(r),onClick:function(){!function(e){t.deleteFile(e,(function(e){h(!1)}))}(r),v(n)}},f&&g===n?ce(ne.a,{width:"9px",color:"red",size:"2"}):ce("i",{className:"fa fa-close"}))),r)}))):ce(Y.a,{fontSize:"20px",pt:"1em",color:"greyDark"},"Upload Files Above")))})),le=J.default.div.withConfig({displayName:"FileDrop__Container",componentId:"sc-3bbzl8-0"})(["width:100%;"]),se=Object(J.default)($.a).withConfig({displayName:"FileDrop__DropZone",componentId:"sc-3bbzl8-1"})(["justify-content:center;align-items:center;flex-direction:column;display:flex;justify-content:center;align-items:center;margin:15px;min-height:250px;margin-top:10px;transition:.2s;position:relative;border:5px dashed ",";border-radius:",";"],(function(e){var t=e.theme;return e.isDragActive?t.colors.greyDark:t.colors.greyLight}),(function(e){var t=e.theme;return e.isDragActive?t.borderRadius.more:t.borderRadius.normal})),fe=J.default.h2.withConfig({displayName:"FileDrop__H2",componentId:"sc-3bbzl8-2"})(["margin:0;margin-top:10px;font-weight:",";"],(function(e){return e.theme.fontWeights.regular})),pe=J.default.div.withConfig({displayName:"FileDrop__Row",componentId:"sc-3bbzl8-3"})(["display:flex;align-items:center;width:100%;padding:3px 0px 3px 5px;border-bottom:"," 1px solid;"],(function(e){var t=e.theme;e.key;return t.colors.mainBg})),de=J.default.button.withConfig({displayName:"FileDrop__DeleteBtn",componentId:"sc-3bbzl8-4"})(["margin-right:5px;cursor:pointer;color:",";height:25px;width:25px;display:flex;justify-content:center;align-items:center;flex-direction &:hover{color:",";}"],(function(e){return e.theme.colors.red}),(function(e){return e.theme.colors.redDark})),ge=J.default.div.withConfig({displayName:"FileDrop__Table",componentId:"sc-3bbzl8-5"})(["max-height:250px;overflow:auto;width:100%;"]),ve=o.a.createElement,be=function(){return ve($.a,{height:"100%",width:[1]},ve(ue,null))},me=o.a.createElement;t.default=function(){return me(be,null)}},tEbE:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/files",function(){return n("eX7b")}])}},[["tEbE",1,2,5,9,10,11,15,0,3,4,6,7,8,12,13,20]]]);