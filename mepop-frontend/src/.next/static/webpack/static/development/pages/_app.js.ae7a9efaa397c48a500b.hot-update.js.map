{"version":3,"file":"static/webpack/static/development/pages/_app.js.ae7a9efaa397c48a500b.hot-update.js","sources":["webpack:///./components/Layout.js"],"sourcesContent":["import { useRouter } from 'next/router'\n\nimport Flex from '../styles/layout/Flex'\nimport styled from 'styled-components'\nimport Sidebar from './Sidebar'\nimport DateContainer from './DateContainer'\nimport { useSelector } from 'react-redux'\nimport NoDataFound from '../styles/elements/NoDataFound'\nimport Loading from '../styles/elements/Loading'\nimport { withFirebase } from '../firebase'\n\nconst getheaderContent = pathname => {\n  switch (pathname) {\n    case '/dashboard':\n      return 'Dashboard'\n    case '/reports':\n      return 'Reports'\n    case '/files':\n      return 'Files'\n    case '/settings/personal':\n      return 'Settings'\n    case '/fees-calculator':\n      return 'Fees Calculator'\n    default:\n      return 'Mepop Reports'\n  }\n}\nconst Layout = withFirebase((props) => {\n  const { loading, compareData, files, rangedData, user } = useSelector(state => state.generalReducer)\n  const router = useRouter()\n  const heading = getheaderContent(router.pathname)\n  const noData = !files.length || JSON.stringify(rangedData) === '{}'\n  const noUser = JSON.stringify(user) === '{}' || !user\n  const routeRequiresData = heading === 'Reports' || heading === 'Dashboard'\n  const centerContent = loading || noData\n  const unprotectedRoute = router.pathname === '/sign-in' || router.pathname === '/sign-up'\n  const hideSideBar = router.pathname === '/settings/membership/'\n\n  if (noUser && !unprotectedRoute) {\n    return null\n  }\n  if (user.profile && router.pathname !== '/settings/membership') {\n    if (!user.profile.hasSignedIn) {\n      router.push('/settings/membership')\n    }\n  }\n  return (\n    <Flex\n      justifyContent='center'\n      bg='mainBg'\n      flex={[1]}\n    >\n      {\n        unprotectedRoute ? (\n          <Body\n            centerContent\n            headerSize={0}\n          >\n            {\n              loading ? (\n                <Flex justifyContent='center' height='90vh' alignItems='center'>\n                  <Loading />\n                </Flex>\n              ) : props.children\n            }\n          </Body>\n        )\n          : (\n\n            <>\n              {hideSideBar ? null : <Sidebar />}\n              <Flex\n                justifyContent='space-between'\n                flexWrap='wrap'\n                alignItems='flex-start'\n                bg='mainBg'\n              >\n\n                <Header>\n                  {heading}\n                  {(heading === 'Reports' || heading === 'Dashboard') ? (\n                    <DateContainer page={heading} />\n                  ) : null}\n                </Header>\n                <Body\n                  centerContent={centerContent}\n                  headerSize={JSON.stringify(compareData) !== '{}' ? 110 : 45}\n                >\n                  {\n                    noData && routeRequiresData && !loading ? <NoDataFound />\n                      : loading ? (\n                        <Flex justifyContent='center' height='90vh' alignItems='center'>\n                          <Loading />\n                        </Flex>\n                      ) : props.children\n                  }\n\n                </Body>\n              </Flex>\n            </>\n          )\n      }\n    </Flex>\n\n  )\n})\n\nexport default Layout\n\nconst Body = styled.div`\n    overflow: auto;\n    height:calc(100vh - ${({ headerSize }) => headerSize}px);\n    width:100vw;\n    padding-bottom:70px;\n${({ centerContent }) => {\n  if (centerContent) {\n    return (`\n      display: flex;\n      justify-content: center;\n    `)\n  }\n}}\n`\nconst Header = styled.div`\n    background: white;\n    width: 100%;\n    min-height: 50px;\n    border-bottom: 1px solid ${({ theme }) => theme.colors.mainBg};\n    display: flex;\n    align-items:center;\n    padding-left: 10px;\n    font-wieght: ${({ theme }) => theme.fontWeights.bold};\n    color: ${({ theme }) => theme.colors.primary};\n    font-weight: ${({ theme }) => theme.fontWeights.bold};\n    font-size: 20px;\n    justify-content: space-between;\n`\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAZA;AAcA;AACA;AAAA;AAAA;AACA;AADA;AACA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA;AA9EA;AAAA;AAAA;AAgFA;AAEA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAGA;AACA;AAAA;AACA;AAIA;AACA;AAZA;AAcA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAIA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAVA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}