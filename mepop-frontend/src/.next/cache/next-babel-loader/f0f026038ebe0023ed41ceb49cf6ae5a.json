{"ast":null,"code":"var _jsxFileName = \"/Users/samuelwood/development/mepop-reports/mepop-frontend/src/styles/reporting/TotalEarnings/index.js\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { useState, useEffect } from 'react';\nimport CountUp from 'react-countup';\nimport { PieChart, Pie, Cell, ResponsiveContainer, Sector } from 'recharts';\nimport Switch from '../../elements/Switch';\nimport theme from '../../../theme';\nimport { Container, ChartContainer, TitleContainer, BoxTitle, SwitchContainer, BoxValue } from './styles';\nconst COLORS = [theme.colors.pastelOrange, theme.colors.pastelRose, theme.colors.greenSoft, theme.colors.pastelBlueLight];\n\nconst RadialGraph = (_ref) => {\n  let {\n    title,\n    value = 0,\n    currencyType,\n    float,\n    data,\n    disableAnimation,\n    netValue\n  } = _ref,\n      rest = _objectWithoutProperties(_ref, [\"title\", \"value\", \"currencyType\", \"float\", \"data\", \"disableAnimation\", \"netValue\"]);\n\n  const {\n    0: index,\n    1: setIndex\n  } = useState(0);\n  const {\n    0: net,\n    1: setNet\n  } = useState(false);\n  const {\n    0: activeVal,\n    1: setActiveVal\n  } = useState(value);\n  useEffect(() => {\n    setActiveVal(value);\n  }, [value]);\n  return __jsx(Container, _extends({\n    flexDirection: \"row\",\n    justifyContent: \"space-evenly\"\n  }, rest, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }), title ? __jsx(TitleContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, __jsx(BoxTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 15\n    }\n  }, title.toUpperCase()), __jsx(SwitchContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 15\n    }\n  }, __jsx(Switch, {\n    label: \"Show Net Profit\",\n    checked: net,\n    onChange: () => {\n      setNet(!net);\n      setActiveVal(value === activeVal ? netValue : value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }\n  })), __jsx(BoxValue, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 15\n    }\n  }, currencyType, __jsx(CountUp, {\n    formattingFn: num => num.toLocaleString(undefined, {\n      minimumFractionDigits: 2,\n      maximumFractionDigits: 2\n    }),\n    decimals: float ? 2 : 0,\n    start: activeVal === value ? parseFloat(netValue) : parseFloat(value),\n    end: float ? parseFloat(activeVal) : typeof activeVal === 'number' ? activeVal : 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }))) : null, __jsx(ChartContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, __jsx(ResponsiveContainer, {\n    width: \"100%\",\n    height: \"100%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, __jsx(PieChart, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }, __jsx(Pie, {\n    activeIndex: index,\n    activeShape: props => __jsx(ActiveShape, _extends({}, props, {\n      currency: currencyType,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 39\n      }\n    })),\n    data: data,\n    innerRadius: 60,\n    outerRadius: 80,\n    paddingAngle: 5,\n    dataKey: \"value\",\n    isAnimationActive: typeof disableAnimation !== 'boolean',\n    onMouseEnter: (_, i) => setIndex(i),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, data.map((_, index) => __jsx(Cell, {\n    key: `cell-${index}`,\n    fill: COLORS[index % COLORS.length],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 19\n    }\n  })))))));\n};\n\nexport default RadialGraph;\n\nconst ActiveShape = props => {\n  const {\n    cx,\n    cy,\n    innerRadius,\n    outerRadius,\n    startAngle,\n    endAngle,\n    fill,\n    payload,\n    currency\n  } = props;\n  const value = payload.value.toLocaleString(undefined, {\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2\n  });\n  return __jsx(\"g\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 5\n    }\n  }, __jsx(\"text\", {\n    x: cx,\n    y: cy - 10,\n    dy: 8,\n    textAnchor: \"middle\",\n    fill: fill,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }\n  }, payload.name), __jsx(\"text\", {\n    x: cx,\n    y: cy + 10,\n    dy: 8,\n    textAnchor: \"middle\",\n    fill: fill,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }\n  }, currency, value), __jsx(Sector, {\n    cx: cx,\n    cy: cy,\n    innerRadius: innerRadius + 5,\n    outerRadius: outerRadius + 5,\n    startAngle: startAngle,\n    endAngle: endAngle,\n    fill: fill,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }\n  }));\n};","map":{"version":3,"sources":["/Users/samuelwood/development/mepop-reports/mepop-frontend/src/styles/reporting/TotalEarnings/index.js"],"names":["React","useState","useEffect","CountUp","PieChart","Pie","Cell","ResponsiveContainer","Sector","Switch","theme","Container","ChartContainer","TitleContainer","BoxTitle","SwitchContainer","BoxValue","COLORS","colors","pastelOrange","pastelRose","greenSoft","pastelBlueLight","RadialGraph","title","value","currencyType","float","data","disableAnimation","netValue","rest","index","setIndex","net","setNet","activeVal","setActiveVal","toUpperCase","num","toLocaleString","undefined","minimumFractionDigits","maximumFractionDigits","parseFloat","props","_","i","map","length","ActiveShape","cx","cy","innerRadius","outerRadius","startAngle","endAngle","fill","payload","currency","name"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport CountUp from 'react-countup'\nimport {\n  PieChart, Pie, Cell, ResponsiveContainer, Sector\n} from 'recharts'\nimport Switch from '../../elements/Switch'\nimport theme from '../../../theme'\n\nimport {\n  Container,\n  ChartContainer,\n  TitleContainer,\n  BoxTitle,\n  SwitchContainer,\n  BoxValue\n} from './styles'\n\nconst COLORS = [theme.colors.pastelOrange, theme.colors.pastelRose, theme.colors.greenSoft, theme.colors.pastelBlueLight]\n\nconst RadialGraph = ({\n  title,\n  value = 0,\n  currencyType,\n  float,\n  data,\n  disableAnimation,\n  netValue,\n  ...rest\n}) => {\n  const [index, setIndex] = useState(0)\n  const [net, setNet] = useState(false)\n  const [activeVal, setActiveVal] = useState(value)\n\n  useEffect(() => {\n    setActiveVal(value)\n  }, [value])\n  return (\n    <Container flexDirection='row' justifyContent='space-evenly' {...rest}>\n      {\n        title\n          ? (\n            <TitleContainer>\n\n              <BoxTitle>\n                {title.toUpperCase()}\n              </BoxTitle>\n              <SwitchContainer>\n                <Switch\n                  label='Show Net Profit'\n                  checked={net}\n                  onChange={() => {\n                    setNet(!net)\n                    setActiveVal(value === activeVal ? netValue : value)\n                  }}\n                />\n\n              </SwitchContainer>\n              <BoxValue>\n                {currencyType}\n                <CountUp\n                  formattingFn={\n                    num => num.toLocaleString(undefined, {\n                      minimumFractionDigits: 2,\n                      maximumFractionDigits: 2\n                    })\n                  }\n                  decimals={float ? 2 : 0}\n                  start={activeVal === value ? parseFloat(netValue) : parseFloat(value)}\n                  end={float ? parseFloat(activeVal) : typeof activeVal === 'number' ? activeVal : 0}\n                />\n              </BoxValue>\n            </TitleContainer>)\n          : null\n      }\n      <ChartContainer>\n        <ResponsiveContainer width='100%' height='100%'>\n          <PieChart>\n            <Pie\n              activeIndex={index}\n              activeShape={(props) => <ActiveShape {...props} currency={currencyType} />}\n              data={data}\n              innerRadius={60}\n              outerRadius={80}\n              paddingAngle={5}\n              dataKey='value'\n              isAnimationActive={typeof disableAnimation !== 'boolean'}\n              onMouseEnter={(_, i) => setIndex(i)}\n            >\n              {\n                data.map((_, index) => (\n                  <Cell\n                    key={`cell-${index}`}\n                    fill={COLORS[index % COLORS.length]}\n                  />\n                )\n                )\n              }\n            </Pie>\n\n          </PieChart>\n        </ResponsiveContainer>\n      </ChartContainer>\n    </Container>\n  )\n}\n\nexport default RadialGraph\n\nconst ActiveShape = (props) => {\n  const {\n    cx, cy, innerRadius, outerRadius, startAngle, endAngle,\n    fill, payload, currency\n  } = props\n  const value = payload.value.toLocaleString(undefined, {\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2\n  })\n  return (\n    <g>\n      <text x={cx} y={cy - 10} dy={8} textAnchor='middle' fill={fill}>{payload.name}</text>\n      <text x={cx} y={cy + 10} dy={8} textAnchor='middle' fill={fill}>\n        {currency}{value}\n      </text>\n      <Sector\n        cx={cx}\n        cy={cy}\n        innerRadius={innerRadius + 5}\n        outerRadius={outerRadius + 5}\n        startAngle={startAngle}\n        endAngle={endAngle}\n        fill={fill}\n      />\n\n    </g>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}