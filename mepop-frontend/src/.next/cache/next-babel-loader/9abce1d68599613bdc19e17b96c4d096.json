{"ast":null,"code":"var _jsxFileName = \"/Users/samuelwood/development/mepop-reports/mepop-frontend/src/components/DateContainer.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect, useMemo } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport styled from 'styled-components';\nimport moment from 'moment';\nimport Link from 'next/link';\nimport Flex from '../styles/layout/Flex';\nimport DateRangePicker from '../styles/elements/DateRangePicker';\nimport Select from '../styles/elements/Select';\nimport { getRangedData } from '../dataProcessing/utils';\nimport { UPDATE_RANGED_DATA, UPDATE_COMPARE_DATA } from '../store/generalReducer';\nimport Text from '../styles/elements/Text';\nimport Spinner from '../styles/elements/Loading/Spinner';\nimport Tooltip from '../styles/elements/Tooltip';\n\nconst DateContainer = ({\n  page\n}) => {\n  const {\n    allData,\n    loading,\n    user\n  } = useSelector(state => state.generalReducer);\n  const fixedFullRange = page === 'Dashboard';\n  const dispatch = useDispatch();\n  const min = useMemo(() => allData.sales ? allData.sales[0].date_of_sale : null, [allData]);\n  const max = useMemo(() => allData.sales ? allData.sales[allData.sales.length - 1].date_of_sale : null, [allData]);\n  const {\n    0: dateRange,\n    1: setDates\n  } = useState({\n    startDate: min,\n    endDate: max\n  }); // stored in MM-DD-YYYY format\n\n  const {\n    0: compareDateRange,\n    1: setCompareDates\n  } = useState({\n    startDate: min,\n    endDate: max\n  }); // stored in MM-DD-YYYY format\n\n  const {\n    0: preset,\n    1: setPreset\n  } = useState({\n    label: 'Full Range',\n    value: 'full'\n  });\n  const {\n    0: comparePreset,\n    1: setComparePreset\n  } = useState({\n    label: 'Full Range',\n    value: 'full'\n  });\n  const {\n    0: showCompareDate,\n    1: toggleCompare\n  } = useState(false);\n  const {\n    0: isLoading,\n    1: setLoading\n  } = useState(false);\n  const isBasic = !user.membership ? 'basic' : user.membership.type === 'basic';\n  useEffect(() => {\n    if (dateRange.startDate === null || dateRange.endDate === null) {\n      setPreset({\n        label: 'Full Range',\n        value: 'full'\n      });\n      setDates({\n        startDate: min,\n        endDate: max\n      });\n    } else if (dateRange.startDate && dateRange.endDate) {\n      if (!moment(dateRange.startDate).isSame(min) && !moment(dateRange.endDate).isSame(max)) {\n        setPreset({\n          label: 'Full Range',\n          value: 'full'\n        });\n        setDates({\n          startDate: min,\n          endDate: max\n        });\n      }\n    }\n  }, [min, max]);\n  useEffect(() => {\n    setTimeout(() => {\n      if (allData.sales && dateRange.startDate && dateRange.endDate) {\n        const rangedData = getRangedData(allData, {\n          startDate: dateRange.startDate,\n          endDate: dateRange.endDate\n        });\n        dispatch({\n          type: UPDATE_RANGED_DATA,\n          payload: rangedData\n        });\n      }\n    });\n  }, [allData, dateRange]);\n  useEffect(() => {\n    setLoading(true);\n    setTimeout(() => {\n      if (allData.sales && compareDateRange.startDate && compareDateRange.endDate) {\n        const rangedData = getRangedData(allData, {\n          startDate: compareDateRange.startDate,\n          endDate: compareDateRange.endDate\n        }); // console.log(rangedData)\n\n        dispatch({\n          type: UPDATE_COMPARE_DATA,\n          payload: rangedData\n        });\n      }\n\n      if (!showCompareDate) {\n        dispatch({\n          type: UPDATE_COMPARE_DATA,\n          payload: {}\n        });\n      }\n\n      setLoading(false);\n    });\n  }, [allData, compareDateRange, showCompareDate]);\n  useEffect(() => {\n    const {\n      startDate,\n      endDate\n    } = getDatePreset(preset, min, max);\n\n    if (startDate && endDate) {\n      setDates({\n        startDate,\n        endDate\n      });\n    }\n  }, [preset]);\n  useEffect(() => {\n    const {\n      startDate,\n      endDate\n    } = getDatePreset(comparePreset, min, max);\n\n    if (startDate && endDate) {\n      setCompareDates({\n        startDate,\n        endDate\n      });\n    }\n  }, [comparePreset]);\n  if (!allData.sales) return null;\n  const btnDisabled = loading || fixedFullRange || isLoading || isBasic;\n  return __jsx(Flex, {\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 5\n    }\n  }, __jsx(Flex, {\n    flexDirection: \"column\",\n    justifyContent: \"space-between\",\n    height: showCompareDate && !fixedFullRange ? 96 : 'auto',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }\n  }, __jsx(Select, {\n    opacity: fixedFullRange ? 0 : 1,\n    options: options,\n    onChange: arr => setPreset(arr[0]),\n    selectProps: {\n      values: preset ? [preset] : [],\n      disabled: fixedFullRange,\n      searchable: false,\n      style: {\n        width: '140px',\n        fontSize: '15px'\n      },\n      separator: true\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }), showCompareDate ? __jsx(Select, {\n    opacity: fixedFullRange ? 0 : 1,\n    options: options,\n    onChange: arr => setComparePreset(arr[0]),\n    selectProps: {\n      values: comparePreset ? [comparePreset] : [],\n      disabled: fixedFullRange,\n      searchable: false,\n      style: {\n        width: '140px',\n        fontSize: '15px'\n      },\n      separator: true\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  }) : null), __jsx(Flex, {\n    flexDirection: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }\n  }, __jsx(DateRangePicker, {\n    startDate: dateRange.startDate ? moment(fixedFullRange ? min : dateRange.startDate) : null,\n    endDate: dateRange.endDate ? moment(fixedFullRange ? max : dateRange.endDate) : null,\n    disabled: fixedFullRange,\n    isOutsideRange: day => {\n      return day.isBefore(moment(min)) || day.isAfter(moment(max));\n    } // enableOutsideDays={false}\n    ,\n    onDatesChange: ({\n      startDate,\n      endDate\n    }) => {\n      setPreset({\n        label: 'Custom',\n        value: null\n      });\n      setDates({\n        startDate: startDate ? startDate.format('MM-DD-YYYY') : null,\n        endDate: endDate ? endDate.format('MM-DD-YYYY') : null\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 9\n    }\n  }), showCompareDate && !fixedFullRange ? __jsx(React.Fragment, null, __jsx(Text, {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    color: \"primary\",\n    fontWeight: \"100\",\n    fontSize: \"15px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 15\n    }\n  }, \"vs.\"), __jsx(DateRangePicker, {\n    startDate: compareDateRange.startDate ? moment(fixedFullRange ? min : compareDateRange.startDate) : null,\n    endDate: compareDateRange.endDate ? moment(fixedFullRange ? max : compareDateRange.endDate) : null,\n    disabled: fixedFullRange,\n    isOutsideRange: day => {\n      return day.isBefore(min) || day.isAfter(max);\n    },\n    onDatesChange: ({\n      startDate,\n      endDate\n    }) => {\n      setComparePreset({\n        label: 'Custom',\n        value: null\n      });\n      setCompareDates({\n        startDate: startDate ? startDate.format('MM-DD-YYYY') : null,\n        endDate: endDate ? endDate.format('MM-DD-YYYY') : null\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 15\n    }\n  })) : null), __jsx(Tooltip, {\n    disabled: !isBasic,\n    html: __jsx(TooltipContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 15\n      }\n    }),\n    interactive: true,\n    interactiveBorder: 100,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }\n  }, __jsx(AddBtn, {\n    isFixedFullRange: fixedFullRange,\n    onClick: () => {\n      if (btnDisabled) return;\n      toggleCompare(!showCompareDate);\n    },\n    disabled: btnDisabled,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 9\n    }\n  }, fixedFullRange ? null : loading || isLoading ? __jsx(Spinner, {\n    width: \"2em\",\n    size: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 17\n    }\n  }) : __jsx(\"i\", {\n    className: showCompareDate ? 'fa fa-minus-circle' : 'fa fa-plus-circle',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 17\n    }\n  }))));\n};\n\nexport default DateContainer;\n\nconst TooltipContent = () => {\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 5\n    }\n  }, \"You must \", __jsx(Link, {\n    href: \"/settings/membership\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 16\n    }\n  }, __jsx(Span, {\n    title: \"/membership\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 50\n    }\n  }, \"upgrade\")), \" to compare date ranges\");\n};\n\nconst Span = styled.span.withConfig({\n  displayName: \"DateContainer__Span\",\n  componentId: \"sc-3ofmch-0\"\n})([\"color:white;cursor:pointer;border-bottom:1px solid white;&:hover{opacity:.7;}\"]);\nconst AddBtn = styled.span.withConfig({\n  displayName: \"DateContainer__AddBtn\",\n  componentId: \"sc-3ofmch-1\"\n})([\"color:\", \";background:none;border:none;cursor:\", \";font-size:20px;margin-top:3px;transition:\", \";height:50px;width:60px;display:flex;align-items:center;border-left:1px solid \", \";justify-content:center;&:hover{color:\", \";}\"], ({\n  theme\n}) => theme.colors.greyLight, ({\n  disabled\n}) => disabled ? 'not-allowed' : 'pointer', ({\n  theme\n}) => theme.transitionDurations[1], ({\n  theme,\n  isFixedFullRange\n}) => isFixedFullRange ? 'transparent' : theme.colors.mainBg, ({\n  theme,\n  disabled\n}) => !disabled ? theme.colors.primary : null);\nconst options = [{\n  label: 'Full Range',\n  value: 'full'\n}, {\n  label: 'This Month',\n  value: 'this_month'\n}, {\n  label: 'Last Month',\n  value: 'last_month'\n}, {\n  label: 'Past 3 Months',\n  value: 'past_three_months'\n}];\n\nconst getDatePreset = (preset, min, max) => {\n  switch (preset.value) {\n    case 'full':\n      {\n        return {\n          startDate: min,\n          endDate: max\n        };\n      }\n\n    case 'this_month':\n      {\n        const newStart = moment(moment().startOf('month')).format('MM-DD-YYYY');\n        const newEnd = moment(moment().endOf('month')).format('MM-DD-YYYY');\n        return {\n          startDate: newStart,\n          endDate: new Date(newEnd) <= new Date(max) ? newEnd : max\n        };\n      }\n\n    case 'last_month':\n      {\n        const newStart = moment(moment().subtract(1, 'months').startOf('month')).format('MM-DD-YYYY');\n        const newEnd = moment(moment().subtract(1, 'months').endOf('month')).format('MM-DD-YYYY');\n        return {\n          startDate: newStart,\n          endDate: new Date(newEnd) <= new Date(max) ? newEnd : max\n        };\n      }\n\n    case 'past_three_months':\n      {\n        const newStart = moment(moment().subtract(3, 'months')).format('MM-DD-YYYY');\n        return {\n          startDate: newStart,\n          endDate: max\n        };\n      }\n\n    default:\n      {\n        return {};\n      }\n  }\n};","map":{"version":3,"sources":["/Users/samuelwood/development/mepop-reports/mepop-frontend/src/components/DateContainer.js"],"names":["useState","useEffect","useMemo","useSelector","useDispatch","styled","moment","Link","Flex","DateRangePicker","Select","getRangedData","UPDATE_RANGED_DATA","UPDATE_COMPARE_DATA","Text","Spinner","Tooltip","DateContainer","page","allData","loading","user","state","generalReducer","fixedFullRange","dispatch","min","sales","date_of_sale","max","length","dateRange","setDates","startDate","endDate","compareDateRange","setCompareDates","preset","setPreset","label","value","comparePreset","setComparePreset","showCompareDate","toggleCompare","isLoading","setLoading","isBasic","membership","type","isSame","setTimeout","rangedData","payload","getDatePreset","btnDisabled","options","arr","values","disabled","searchable","style","width","fontSize","separator","day","isBefore","isAfter","format","TooltipContent","Span","span","AddBtn","theme","colors","greyLight","transitionDurations","isFixedFullRange","mainBg","primary","newStart","startOf","newEnd","endOf","Date","subtract"],"mappings":"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","sourcesContent":["import { useState, useEffect, useMemo } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport styled from 'styled-components'\nimport moment from 'moment'\nimport Link from 'next/link'\n\nimport Flex from '../styles/layout/Flex'\nimport DateRangePicker from '../styles/elements/DateRangePicker'\nimport Select from '../styles/elements/Select'\n\nimport { getRangedData } from '../dataProcessing/utils'\nimport { UPDATE_RANGED_DATA, UPDATE_COMPARE_DATA } from '../store/generalReducer'\nimport Text from '../styles/elements/Text'\nimport Spinner from '../styles/elements/Loading/Spinner'\nimport Tooltip from '../styles/elements/Tooltip'\n\nconst DateContainer = ({ page }) => {\n  const { allData, loading, user } = useSelector(state => state.generalReducer)\n  const fixedFullRange = page === 'Dashboard'\n  const dispatch = useDispatch()\n\n  const min = useMemo(() => allData.sales ? allData.sales[0].date_of_sale : null, [allData])\n  const max = useMemo(() => allData.sales ? allData.sales[allData.sales.length - 1].date_of_sale : null, [allData])\n  const [dateRange, setDates] = useState({ startDate: min, endDate: max }) // stored in MM-DD-YYYY format\n  const [compareDateRange, setCompareDates] = useState({ startDate: min, endDate: max }) // stored in MM-DD-YYYY format\n  const [preset, setPreset] = useState({ label: 'Full Range', value: 'full' })\n  const [comparePreset, setComparePreset] = useState({ label: 'Full Range', value: 'full' })\n  const [showCompareDate, toggleCompare] = useState(false)\n  const [isLoading, setLoading] = useState(false)\n  const isBasic = !user.membership ? 'basic' : user.membership.type === 'basic'\n\n  useEffect(() => {\n    if (dateRange.startDate === null || dateRange.endDate === null) {\n      setPreset({ label: 'Full Range', value: 'full' })\n      setDates({ startDate: min, endDate: max })\n    } else if (dateRange.startDate && dateRange.endDate) {\n      if (!moment(dateRange.startDate).isSame(min) && !moment(dateRange.endDate).isSame(max)) {\n        setPreset({ label: 'Full Range', value: 'full' })\n        setDates({ startDate: min, endDate: max })\n      }\n    }\n  }, [min, max])\n  useEffect(() => {\n    setTimeout(() => {\n      if (allData.sales && dateRange.startDate && dateRange.endDate) {\n        const rangedData = getRangedData(allData, {\n          startDate: dateRange.startDate,\n          endDate: dateRange.endDate\n        })\n        dispatch({\n          type: UPDATE_RANGED_DATA,\n          payload: rangedData\n        })\n      }\n    })\n  }, [allData, dateRange])\n\n  useEffect(() => {\n    setLoading(true)\n    setTimeout(() => {\n      if (allData.sales && compareDateRange.startDate && compareDateRange.endDate) {\n        const rangedData = getRangedData(allData, {\n          startDate: compareDateRange.startDate,\n          endDate: compareDateRange.endDate\n        })\n        // console.log(rangedData)\n        dispatch({\n          type: UPDATE_COMPARE_DATA,\n          payload: rangedData\n        })\n      }\n      if (!showCompareDate) {\n        dispatch({\n          type: UPDATE_COMPARE_DATA,\n          payload: {}\n        })\n      }\n      setLoading(false)\n    })\n  }, [allData, compareDateRange, showCompareDate])\n\n  useEffect(() => {\n    const { startDate, endDate } = getDatePreset(preset, min, max)\n    if (startDate && endDate) {\n      setDates({ startDate, endDate })\n    }\n  }, [preset])\n\n  useEffect(() => {\n    const { startDate, endDate } = getDatePreset(comparePreset, min, max)\n    if (startDate && endDate) {\n      setCompareDates({ startDate, endDate })\n    }\n  }, [comparePreset])\n\n  if (!allData.sales) return null\n  const btnDisabled = loading || fixedFullRange || isLoading || isBasic\n  return (\n    <Flex alignItems='center'>\n      <Flex flexDirection='column' justifyContent='space-between' height={showCompareDate && !fixedFullRange ? 96 : 'auto'}>\n\n        <Select\n          opacity={fixedFullRange ? 0 : 1}\n          options={options}\n          onChange={(arr) => setPreset(arr[0])}\n          selectProps={{\n            values: preset ? [preset] : [],\n            disabled: fixedFullRange,\n            searchable: false,\n            style: { width: '140px', fontSize: '15px' },\n            separator: true\n          }}\n        />\n        {\n          showCompareDate ? (\n            <Select\n              opacity={fixedFullRange ? 0 : 1}\n              options={options}\n              onChange={(arr) => setComparePreset(arr[0])}\n              selectProps={{\n                values: comparePreset ? [comparePreset] : [],\n                disabled: fixedFullRange,\n                searchable: false,\n                style: { width: '140px', fontSize: '15px' },\n                separator: true\n              }}\n            />\n          ) : null\n        }\n      </Flex>\n      <Flex flexDirection='column'>\n\n        <DateRangePicker\n          startDate={dateRange.startDate ? moment(fixedFullRange ? min : dateRange.startDate) : null}\n          endDate={dateRange.endDate ? moment(fixedFullRange ? max : dateRange.endDate) : null}\n          disabled={fixedFullRange}\n          isOutsideRange={(day) => {\n            return (day.isBefore(moment(min)) || day.isAfter(moment(max)))\n          }}\n          // enableOutsideDays={false}\n          onDatesChange={({ startDate, endDate }) => {\n            setPreset({ label: 'Custom', value: null })\n            setDates({\n              startDate: startDate ? startDate.format('MM-DD-YYYY') : null,\n              endDate: endDate ? endDate.format('MM-DD-YYYY') : null\n            })\n          }}\n        />\n        {\n          showCompareDate && !fixedFullRange ? (\n            <>\n              <Text\n                display='flex'\n                alignItems='center'\n                justifyContent='center'\n                color='primary'\n                fontWeight='100'\n                fontSize='15px'\n              >\n              vs.\n              </Text>\n              <DateRangePicker\n                startDate={compareDateRange.startDate ? moment(fixedFullRange ? min : compareDateRange.startDate) : null}\n                endDate={compareDateRange.endDate ? moment(fixedFullRange ? max : compareDateRange.endDate) : null}\n                disabled={fixedFullRange}\n                isOutsideRange={(day) => {\n                  return (day.isBefore(min) || day.isAfter(max))\n                }}\n                onDatesChange={({ startDate, endDate }) => {\n                  setComparePreset({ label: 'Custom', value: null })\n                  setCompareDates({\n                    startDate: startDate ? startDate.format('MM-DD-YYYY') : null,\n                    endDate: endDate ? endDate.format('MM-DD-YYYY') : null\n                  })\n                }}\n              />\n            </>\n          ) : null\n        }\n      </Flex>\n      <Tooltip\n        disabled={!isBasic}\n        html={<TooltipContent />}\n        interactive\n        interactiveBorder={100}\n      >\n\n        <AddBtn\n          isFixedFullRange={fixedFullRange}\n          onClick={() => {\n            if (btnDisabled) return\n            toggleCompare(!showCompareDate)\n          }}\n          disabled={btnDisabled}\n        >\n          {\n            fixedFullRange ? null\n              : loading || isLoading ? (\n                <Spinner width='2em' size={3} />\n              ) : (\n                <i className={showCompareDate ? 'fa fa-minus-circle' : 'fa fa-plus-circle'} />\n              )\n          }\n        </AddBtn>\n      </Tooltip>\n    </Flex>\n\n  )\n}\n\nexport default DateContainer\n\nconst TooltipContent = () => {\n  return (\n    <div>\n      You must <Link href='/settings/membership'><Span title='/membership'>upgrade</Span></Link> to compare date ranges\n    </div>\n  )\n}\n\nconst Span = styled.span`\n  color: white;\n  cursor: pointer;\n  border-bottom: 1px solid white;\n  &:hover {\n    opacity: .7;\n  }\n`\nconst AddBtn = styled.span`\n  color: ${({ theme }) => theme.colors.greyLight};\n  background: none;\n  border: none;\n  cursor: ${({ disabled }) => disabled ? 'not-allowed' : 'pointer'};\n  font-size: 20px;\n  margin-top: 3px;\n  transition: ${({ theme }) => theme.transitionDurations[1]};\n  height: 50px;\n  width: 60px;\n  display: flex;\n  align-items: center;\n  border-left: 1px solid ${({ theme, isFixedFullRange }) => isFixedFullRange ? 'transparent' : theme.colors.mainBg};\n  justify-content: center;\n  &:hover {\n    color: ${({ theme, disabled }) => !disabled ? theme.colors.primary : null};\n  }\n  `\n\nconst options = [\n  { label: 'Full Range', value: 'full' },\n  { label: 'This Month', value: 'this_month' },\n  { label: 'Last Month', value: 'last_month' },\n  { label: 'Past 3 Months', value: 'past_three_months' }\n]\n\nconst getDatePreset = (preset, min, max) => {\n  switch (preset.value) {\n    case 'full': {\n      return { startDate: min, endDate: max }\n    }\n    case 'this_month': {\n      const newStart = moment(moment().startOf('month')).format('MM-DD-YYYY')\n      const newEnd = moment(moment().endOf('month')).format('MM-DD-YYYY')\n      return {\n        startDate: newStart,\n        endDate: new Date(newEnd) <= new Date(max) ? newEnd : max\n      }\n    }\n    case 'last_month': {\n      const newStart = moment(moment().subtract(1, 'months').startOf('month')).format('MM-DD-YYYY')\n      const newEnd = moment(moment().subtract(1, 'months').endOf('month')).format('MM-DD-YYYY')\n\n      return {\n        startDate: newStart,\n        endDate: new Date(newEnd) <= new Date(max) ? newEnd : max\n      }\n    }\n    case 'past_three_months': {\n      const newStart = moment(moment().subtract(3, 'months')).format('MM-DD-YYYY')\n      return { startDate: newStart, endDate: max }\n    }\n    default: {\n      return {}\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}