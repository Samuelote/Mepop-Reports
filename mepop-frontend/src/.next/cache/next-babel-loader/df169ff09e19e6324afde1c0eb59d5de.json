{"ast":null,"code":"var _jsxFileName = \"/Users/samuelwood/development/mepop-reports/mepop-frontend/src/components/DateContainer.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect, useMemo } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport styled from 'styled-components';\nimport moment from 'moment';\nimport Link from 'next/link';\nimport { useToasts } from 'react-toast-notifications';\nimport Flex from '../styles/layout/Flex';\nimport DateRangePicker from '../styles/elements/DateRangePicker';\nimport Select from '../styles/elements/Select';\nimport { getRangedData } from '../dataProcessing/utils';\nimport { UPDATE_RANGED_DATA, UPDATE_COMPARE_DATA } from '../store/generalReducer';\nimport Text from '../styles/elements/Text';\nimport Spinner from '../styles/elements/Loading/Spinner';\nimport Tooltip from '../styles/elements/Tooltip';\n\nconst DateContainer = ({\n  page\n}) => {\n  const {\n    allData,\n    loading,\n    user\n  } = useSelector(state => state.generalReducer);\n  const fixedFullRange = page === 'Dashboard';\n  const dispatch = useDispatch();\n  const {\n    addToast\n  } = useToasts();\n  const min = useMemo(() => allData.sales ? allData.sales[0].date_of_sale : null, [allData]);\n  const max = useMemo(() => allData.sales ? allData.sales[allData.sales.length - 1].date_of_sale : null, [allData]);\n  const {\n    0: dateRange,\n    1: setDates\n  } = useState({\n    startDate: min,\n    endDate: max\n  }); // stored in MM-DD-YYYY format\n\n  const {\n    0: compareDateRange,\n    1: setCompareDates\n  } = useState({\n    startDate: min,\n    endDate: max\n  }); // stored in MM-DD-YYYY format\n\n  const {\n    0: preset,\n    1: setPreset\n  } = useState({\n    label: 'Full Range',\n    value: 'full'\n  });\n  const {\n    0: comparePreset,\n    1: setComparePreset\n  } = useState({\n    label: 'Full Range',\n    value: 'full'\n  });\n  const {\n    0: showCompareDate,\n    1: toggleCompare\n  } = useState(false);\n  const {\n    0: isLoading,\n    1: setLoading\n  } = useState(false);\n  const isBasic = !user.membership ? 'basic' : user.membership.type === 'basic';\n  useEffect(() => {\n    if (dateRange.startDate === null || dateRange.endDate === null) {\n      setPreset({\n        label: 'Full Range',\n        value: 'full'\n      });\n      setDates({\n        startDate: min,\n        endDate: max\n      });\n    } else if (dateRange.startDate && dateRange.endDate) {\n      if (!moment(dateRange.startDate).isSame(min) && !moment(dateRange.endDate).isSame(max)) {\n        setPreset({\n          label: 'Full Range',\n          value: 'full'\n        });\n        setDates({\n          startDate: min,\n          endDate: max\n        });\n      }\n    }\n  }, [min, max]);\n  useEffect(() => {\n    console.log(dateRange.startDate, min);\n\n    if (moment(dateRange.startDate).isBefore(min) || moment(dateRange.endDate).isAfter(max)) {\n      addToast(__jsx(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 9\n        }\n      }, \"This date range exceeds the files you've uploaded.\", __jsx(Link, {\n        href: \"/files\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }\n      }, __jsx(CustomLink, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 31\n        }\n      }, \"Click here to upload more files.\"))), {\n        appearance: 'warning' // autoDismiss: true\n\n      });\n    }\n\n    setTimeout(() => {\n      if (allData.sales && dateRange.startDate && dateRange.endDate) {\n        const rangedData = getRangedData(allData, {\n          startDate: dateRange.startDate,\n          endDate: dateRange.endDate\n        });\n        dispatch({\n          type: UPDATE_RANGED_DATA,\n          payload: rangedData\n        });\n      }\n    });\n  }, [allData, dateRange]);\n  useEffect(() => {\n    setLoading(true);\n    setTimeout(() => {\n      if (allData.sales && compareDateRange.startDate && compareDateRange.endDate) {\n        const rangedData = getRangedData(allData, {\n          startDate: compareDateRange.startDate,\n          endDate: compareDateRange.endDate\n        }); // console.log(rangedData)\n\n        dispatch({\n          type: UPDATE_COMPARE_DATA,\n          payload: rangedData\n        });\n      }\n\n      if (!showCompareDate) {\n        dispatch({\n          type: UPDATE_COMPARE_DATA,\n          payload: {}\n        });\n      }\n\n      setLoading(false);\n    });\n  }, [allData, compareDateRange, showCompareDate]);\n  useEffect(() => {\n    const {\n      startDate,\n      endDate\n    } = getDatePreset(preset, min, max);\n\n    if (startDate && endDate) {\n      setDates({\n        startDate,\n        endDate\n      });\n    }\n  }, [preset]);\n  useEffect(() => {\n    const {\n      startDate,\n      endDate\n    } = getDatePreset(comparePreset, min, max);\n\n    if (startDate && endDate) {\n      setCompareDates({\n        startDate,\n        endDate\n      });\n    }\n  }, [comparePreset]);\n  if (!allData.sales) return null;\n  const btnDisabled = loading || fixedFullRange || isLoading || isBasic;\n  return __jsx(Flex, {\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 5\n    }\n  }, __jsx(Flex, {\n    flexDirection: \"column\",\n    justifyContent: \"space-between\",\n    height: showCompareDate && !fixedFullRange ? 96 : 'auto',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }\n  }, __jsx(Select, {\n    opacity: fixedFullRange ? 0 : 1,\n    options: options,\n    onChange: arr => setPreset(arr[0]),\n    selectProps: {\n      values: preset ? [preset] : [],\n      disabled: fixedFullRange,\n      searchable: false,\n      style: {\n        width: '140px',\n        fontSize: '15px'\n      },\n      separator: true\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  }), showCompareDate ? __jsx(Select, {\n    opacity: fixedFullRange ? 0 : 1,\n    options: options,\n    onChange: arr => setComparePreset(arr[0]),\n    selectProps: {\n      values: comparePreset ? [comparePreset] : [],\n      disabled: fixedFullRange,\n      searchable: false,\n      style: {\n        width: '140px',\n        fontSize: '15px'\n      },\n      separator: true\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  }) : null), __jsx(Flex, {\n    flexDirection: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }\n  }, __jsx(DateRangePicker, {\n    startDate: dateRange.startDate ? moment(fixedFullRange ? min : dateRange.startDate) : null,\n    endDate: dateRange.endDate ? moment(fixedFullRange ? max : dateRange.endDate) : null,\n    disabled: fixedFullRange,\n    isOutsideRange: () => false,\n    enableOutsideDays: true // isOutsideRange={(day) => {\n    //   return (day.isBefore(moment(min)) || day.isAfter(moment(max)))\n    // }}\n    // enableOutsideDays={false}\n    ,\n    onDatesChange: ({\n      startDate,\n      endDate\n    }) => {\n      setPreset({\n        label: 'Custom',\n        value: null\n      });\n      setDates({\n        startDate: startDate ? startDate.format('MM-DD-YYYY') : null,\n        endDate: endDate ? endDate.format('MM-DD-YYYY') : null\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 9\n    }\n  }), showCompareDate && !fixedFullRange ? __jsx(React.Fragment, null, __jsx(Text, {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    color: \"primary\",\n    fontWeight: \"100\",\n    fontSize: \"15px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 15\n    }\n  }, \"vs.\"), __jsx(DateRangePicker, {\n    startDate: compareDateRange.startDate ? moment(fixedFullRange ? min : compareDateRange.startDate) : null,\n    endDate: compareDateRange.endDate ? moment(fixedFullRange ? max : compareDateRange.endDate) : null,\n    disabled: fixedFullRange,\n    isOutsideRange: day => {\n      return day.isBefore(min) || day.isAfter(max);\n    },\n    onDatesChange: ({\n      startDate,\n      endDate\n    }) => {\n      setComparePreset({\n        label: 'Custom',\n        value: null\n      });\n      setCompareDates({\n        startDate: startDate ? startDate.format('MM-DD-YYYY') : null,\n        endDate: endDate ? endDate.format('MM-DD-YYYY') : null\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 15\n    }\n  })) : null), __jsx(Tooltip, {\n    disabled: !isBasic,\n    html: __jsx(TooltipContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 15\n      }\n    }),\n    interactive: true,\n    interactiveBorder: 100,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }\n  }, __jsx(AddBtn, {\n    isFixedFullRange: fixedFullRange,\n    onClick: () => {\n      if (btnDisabled) return;\n      toggleCompare(!showCompareDate);\n    },\n    disabled: btnDisabled,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 9\n    }\n  }, fixedFullRange ? null : loading || isLoading ? __jsx(Spinner, {\n    width: \"2em\",\n    size: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 17\n    }\n  }) : __jsx(\"i\", {\n    className: showCompareDate ? 'fa fa-minus-circle' : 'fa fa-plus-circle',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 17\n    }\n  }))));\n};\n\nexport default DateContainer;\n\nconst TooltipContent = () => {\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 5\n    }\n  }, \"You must \", __jsx(Link, {\n    href: \"/settings/membership\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 16\n    }\n  }, __jsx(Span, {\n    title: \"/membership\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 50\n    }\n  }, \"upgrade\")), \" to compare date ranges\");\n};\n\nconst Span = styled.span.withConfig({\n  displayName: \"DateContainer__Span\",\n  componentId: \"sc-3ofmch-0\"\n})([\"color:white;cursor:pointer;border-bottom:1px solid white;&:hover{opacity:.7;}\"]);\nconst AddBtn = styled.span.withConfig({\n  displayName: \"DateContainer__AddBtn\",\n  componentId: \"sc-3ofmch-1\"\n})([\"color:\", \";background:none;border:none;cursor:\", \";font-size:20px;margin-top:3px;transition:\", \";height:50px;width:60px;display:flex;align-items:center;border-left:1px solid \", \";justify-content:center;&:hover{color:\", \";}\"], ({\n  theme\n}) => theme.colors.greyLight, ({\n  disabled\n}) => disabled ? 'not-allowed' : 'pointer', ({\n  theme\n}) => theme.transitionDurations[1], ({\n  theme,\n  isFixedFullRange\n}) => isFixedFullRange ? 'transparent' : theme.colors.mainBg, ({\n  theme,\n  disabled\n}) => !disabled ? theme.colors.primary : null);\nconst CustomLink = styled.span.withConfig({\n  displayName: \"DateContainer__CustomLink\",\n  componentId: \"sc-3ofmch-2\"\n})([\"color:black;margin-left:5px;text-decoration:none;border-bottom:1px solid black;cursor:pointer;:hover{opacity:.8;}\"]);\nconst options = [{\n  label: 'Full Range',\n  value: 'full'\n}, {\n  label: 'This Month',\n  value: 'this_month'\n}, {\n  label: 'Last Month',\n  value: 'last_month'\n}, {\n  label: 'Past 3 Months',\n  value: 'past_three_months'\n}];\n\nconst getDatePreset = (preset, min, max) => {\n  switch (preset.value) {\n    case 'full':\n      {\n        return {\n          startDate: min,\n          endDate: max\n        };\n      }\n\n    case 'this_month':\n      {\n        const newStart = moment(moment().startOf('month')).format('MM-DD-YYYY');\n        const newEnd = moment(moment().endOf('month')).format('MM-DD-YYYY');\n        return {\n          startDate: newStart,\n          endDate: newEnd\n        };\n      }\n\n    case 'last_month':\n      {\n        const newStart = moment(moment().subtract(1, 'months').startOf('month')).format('MM-DD-YYYY');\n        const newEnd = moment(moment().subtract(1, 'months').endOf('month')).format('MM-DD-YYYY');\n        return {\n          startDate: newStart,\n          endDate: newEnd\n        };\n      }\n\n    case 'past_three_months':\n      {\n        const newStart = moment(moment().subtract(3, 'months')).format('MM-DD-YYYY');\n        return {\n          startDate: newStart,\n          endDate: max\n        };\n      }\n\n    default:\n      {\n        return {};\n      }\n  }\n};","map":{"version":3,"sources":["/Users/samuelwood/development/mepop-reports/mepop-frontend/src/components/DateContainer.js"],"names":["useState","useEffect","useMemo","useSelector","useDispatch","styled","moment","Link","useToasts","Flex","DateRangePicker","Select","getRangedData","UPDATE_RANGED_DATA","UPDATE_COMPARE_DATA","Text","Spinner","Tooltip","DateContainer","page","allData","loading","user","state","generalReducer","fixedFullRange","dispatch","addToast","min","sales","date_of_sale","max","length","dateRange","setDates","startDate","endDate","compareDateRange","setCompareDates","preset","setPreset","label","value","comparePreset","setComparePreset","showCompareDate","toggleCompare","isLoading","setLoading","isBasic","membership","type","isSame","console","log","isBefore","isAfter","appearance","setTimeout","rangedData","payload","getDatePreset","btnDisabled","options","arr","values","disabled","searchable","style","width","fontSize","separator","format","day","TooltipContent","Span","span","AddBtn","theme","colors","greyLight","transitionDurations","isFixedFullRange","mainBg","primary","CustomLink","newStart","startOf","newEnd","endOf","subtract"],"mappings":"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","sourcesContent":["import { useState, useEffect, useMemo } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport styled from 'styled-components'\nimport moment from 'moment'\nimport Link from 'next/link'\nimport { useToasts } from 'react-toast-notifications'\n\nimport Flex from '../styles/layout/Flex'\nimport DateRangePicker from '../styles/elements/DateRangePicker'\nimport Select from '../styles/elements/Select'\n\nimport { getRangedData } from '../dataProcessing/utils'\nimport { UPDATE_RANGED_DATA, UPDATE_COMPARE_DATA } from '../store/generalReducer'\nimport Text from '../styles/elements/Text'\nimport Spinner from '../styles/elements/Loading/Spinner'\nimport Tooltip from '../styles/elements/Tooltip'\n\nconst DateContainer = ({ page }) => {\n  const { allData, loading, user } = useSelector(state => state.generalReducer)\n  const fixedFullRange = page === 'Dashboard'\n  const dispatch = useDispatch()\n  const { addToast } = useToasts()\n\n  const min = useMemo(() => allData.sales ? allData.sales[0].date_of_sale : null, [allData])\n  const max = useMemo(() => allData.sales ? allData.sales[allData.sales.length - 1].date_of_sale : null, [allData])\n  const [dateRange, setDates] = useState({ startDate: min, endDate: max }) // stored in MM-DD-YYYY format\n  const [compareDateRange, setCompareDates] = useState({ startDate: min, endDate: max }) // stored in MM-DD-YYYY format\n  const [preset, setPreset] = useState({ label: 'Full Range', value: 'full' })\n  const [comparePreset, setComparePreset] = useState({ label: 'Full Range', value: 'full' })\n  const [showCompareDate, toggleCompare] = useState(false)\n  const [isLoading, setLoading] = useState(false)\n  const isBasic = !user.membership ? 'basic' : user.membership.type === 'basic'\n\n  useEffect(() => {\n    if (dateRange.startDate === null || dateRange.endDate === null) {\n      setPreset({ label: 'Full Range', value: 'full' })\n      setDates({ startDate: min, endDate: max })\n    } else if (dateRange.startDate && dateRange.endDate) {\n      if (!moment(dateRange.startDate).isSame(min) && !moment(dateRange.endDate).isSame(max)) {\n        setPreset({ label: 'Full Range', value: 'full' })\n        setDates({ startDate: min, endDate: max })\n      }\n    }\n  }, [min, max])\n  useEffect(() => {\n    console.log(dateRange.startDate, min)\n    if (moment(dateRange.startDate).isBefore(min) || moment(dateRange.endDate).isAfter(max)) {\n      addToast(\n        <div>\n        This date range exceeds the files you've uploaded.\n          <Link href='/files'><CustomLink>Click here to upload more files.</CustomLink></Link>\n        </div>, {\n          appearance: 'warning'\n          // autoDismiss: true\n        })\n    }\n    setTimeout(() => {\n      if (allData.sales && dateRange.startDate && dateRange.endDate) {\n        const rangedData = getRangedData(allData, {\n          startDate: dateRange.startDate,\n          endDate: dateRange.endDate\n        })\n        dispatch({\n          type: UPDATE_RANGED_DATA,\n          payload: rangedData\n        })\n      }\n    })\n  }, [allData, dateRange])\n\n  useEffect(() => {\n    setLoading(true)\n    setTimeout(() => {\n      if (allData.sales && compareDateRange.startDate && compareDateRange.endDate) {\n        const rangedData = getRangedData(allData, {\n          startDate: compareDateRange.startDate,\n          endDate: compareDateRange.endDate\n        })\n        // console.log(rangedData)\n        dispatch({\n          type: UPDATE_COMPARE_DATA,\n          payload: rangedData\n        })\n      }\n      if (!showCompareDate) {\n        dispatch({\n          type: UPDATE_COMPARE_DATA,\n          payload: {}\n        })\n      }\n      setLoading(false)\n    })\n  }, [allData, compareDateRange, showCompareDate])\n\n  useEffect(() => {\n    const { startDate, endDate } = getDatePreset(preset, min, max)\n    if (startDate && endDate) {\n      setDates({ startDate, endDate })\n    }\n  }, [preset])\n\n  useEffect(() => {\n    const { startDate, endDate } = getDatePreset(comparePreset, min, max)\n    if (startDate && endDate) {\n      setCompareDates({ startDate, endDate })\n    }\n  }, [comparePreset])\n\n  if (!allData.sales) return null\n  const btnDisabled = loading || fixedFullRange || isLoading || isBasic\n  return (\n    <Flex alignItems='center'>\n      <Flex flexDirection='column' justifyContent='space-between' height={showCompareDate && !fixedFullRange ? 96 : 'auto'}>\n\n        <Select\n          opacity={fixedFullRange ? 0 : 1}\n          options={options}\n          onChange={(arr) => setPreset(arr[0])}\n          selectProps={{\n            values: preset ? [preset] : [],\n            disabled: fixedFullRange,\n            searchable: false,\n            style: { width: '140px', fontSize: '15px' },\n            separator: true\n          }}\n        />\n        {\n          showCompareDate ? (\n            <Select\n              opacity={fixedFullRange ? 0 : 1}\n              options={options}\n              onChange={(arr) => setComparePreset(arr[0])}\n              selectProps={{\n                values: comparePreset ? [comparePreset] : [],\n                disabled: fixedFullRange,\n                searchable: false,\n                style: { width: '140px', fontSize: '15px' },\n                separator: true\n              }}\n            />\n          ) : null\n        }\n      </Flex>\n      <Flex flexDirection='column'>\n\n        <DateRangePicker\n          startDate={dateRange.startDate ? moment(fixedFullRange ? min : dateRange.startDate) : null}\n          endDate={dateRange.endDate ? moment(fixedFullRange ? max : dateRange.endDate) : null}\n          disabled={fixedFullRange}\n          isOutsideRange={() => false}\n          enableOutsideDays\n          // isOutsideRange={(day) => {\n          //   return (day.isBefore(moment(min)) || day.isAfter(moment(max)))\n          // }}\n          // enableOutsideDays={false}\n          onDatesChange={({ startDate, endDate }) => {\n            setPreset({ label: 'Custom', value: null })\n            setDates({\n              startDate: startDate ? startDate.format('MM-DD-YYYY') : null,\n              endDate: endDate ? endDate.format('MM-DD-YYYY') : null\n            })\n          }}\n        />\n        {\n          showCompareDate && !fixedFullRange ? (\n            <>\n              <Text\n                display='flex'\n                alignItems='center'\n                justifyContent='center'\n                color='primary'\n                fontWeight='100'\n                fontSize='15px'\n              >\n              vs.\n              </Text>\n              <DateRangePicker\n                startDate={compareDateRange.startDate ? moment(fixedFullRange ? min : compareDateRange.startDate) : null}\n                endDate={compareDateRange.endDate ? moment(fixedFullRange ? max : compareDateRange.endDate) : null}\n                disabled={fixedFullRange}\n                isOutsideRange={(day) => {\n                  return (day.isBefore(min) || day.isAfter(max))\n                }}\n                onDatesChange={({ startDate, endDate }) => {\n                  setComparePreset({ label: 'Custom', value: null })\n                  setCompareDates({\n                    startDate: startDate ? startDate.format('MM-DD-YYYY') : null,\n                    endDate: endDate ? endDate.format('MM-DD-YYYY') : null\n                  })\n                }}\n              />\n            </>\n          ) : null\n        }\n      </Flex>\n      <Tooltip\n        disabled={!isBasic}\n        html={<TooltipContent />}\n        interactive\n        interactiveBorder={100}\n      >\n\n        <AddBtn\n          isFixedFullRange={fixedFullRange}\n          onClick={() => {\n            if (btnDisabled) return\n            toggleCompare(!showCompareDate)\n          }}\n          disabled={btnDisabled}\n        >\n          {\n            fixedFullRange ? null\n              : loading || isLoading ? (\n                <Spinner width='2em' size={3} />\n              ) : (\n                <i className={showCompareDate ? 'fa fa-minus-circle' : 'fa fa-plus-circle'} />\n              )\n          }\n        </AddBtn>\n      </Tooltip>\n    </Flex>\n\n  )\n}\n\nexport default DateContainer\n\nconst TooltipContent = () => {\n  return (\n    <div>\n      You must <Link href='/settings/membership'><Span title='/membership'>upgrade</Span></Link> to compare date ranges\n    </div>\n  )\n}\n\nconst Span = styled.span`\n  color: white;\n  cursor: pointer;\n  border-bottom: 1px solid white;\n  &:hover {\n    opacity: .7;\n  }\n`\nconst AddBtn = styled.span`\n  color: ${({ theme }) => theme.colors.greyLight};\n  background: none;\n  border: none;\n  cursor: ${({ disabled }) => disabled ? 'not-allowed' : 'pointer'};\n  font-size: 20px;\n  margin-top: 3px;\n  transition: ${({ theme }) => theme.transitionDurations[1]};\n  height: 50px;\n  width: 60px;\n  display: flex;\n  align-items: center;\n  border-left: 1px solid ${({ theme, isFixedFullRange }) => isFixedFullRange ? 'transparent' : theme.colors.mainBg};\n  justify-content: center;\n  &:hover {\n    color: ${({ theme, disabled }) => !disabled ? theme.colors.primary : null};\n  }\n  `\nconst CustomLink = styled.span`\n  color: black;\n  margin-left: 5px;\n  text-decoration: none;\n  border-bottom: 1px solid black;\n  cursor: pointer;\n\n  :hover {\n    opacity: .8;\n  }\n\n`\nconst options = [\n  { label: 'Full Range', value: 'full' },\n  { label: 'This Month', value: 'this_month' },\n  { label: 'Last Month', value: 'last_month' },\n  { label: 'Past 3 Months', value: 'past_three_months' }\n]\n\nconst getDatePreset = (preset, min, max) => {\n  switch (preset.value) {\n    case 'full': {\n      return { startDate: min, endDate: max }\n    }\n    case 'this_month': {\n      const newStart = moment(moment().startOf('month')).format('MM-DD-YYYY')\n      const newEnd = moment(moment().endOf('month')).format('MM-DD-YYYY')\n      return {\n        startDate: newStart,\n        endDate: newEnd\n      }\n    }\n    case 'last_month': {\n      const newStart = moment(moment().subtract(1, 'months').startOf('month')).format('MM-DD-YYYY')\n      const newEnd = moment(moment().subtract(1, 'months').endOf('month')).format('MM-DD-YYYY')\n\n      return {\n        startDate: newStart,\n        endDate: newEnd\n      }\n    }\n    case 'past_three_months': {\n      const newStart = moment(moment().subtract(3, 'months')).format('MM-DD-YYYY')\n      return { startDate: newStart, endDate: max }\n    }\n    default: {\n      return {}\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}