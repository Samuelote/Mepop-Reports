{"ast":null,"code":"var _jsxFileName = \"/Users/samuelwood/development/mepop-reports/mepop-frontend/src/components/Layout.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useRouter } from 'next/router';\nimport Flex from '../styles/layout/Flex';\nimport styled from 'styled-components';\nimport Sidebar from './Sidebar';\nimport DateContainer from './DateContainer';\nimport { useSelector } from 'react-redux';\nimport NoDataFound from '../styles/elements/NoDataFound';\nimport Loading from '../styles/elements/Loading';\nimport { withFirebase } from '../firebase';\n\nconst getheaderContent = pathname => {\n  switch (pathname) {\n    case '/dashboard':\n      return 'Dashboard';\n\n    case '/reports':\n      return 'Reports';\n\n    case '/files':\n      return 'Files';\n\n    case '/settings/personal':\n      return 'Settings';\n\n    case '/fees-calculator':\n      return 'Fees Calculator';\n\n    default:\n      return 'Mepop Reports';\n  }\n};\n\nconst Layout = withFirebase(props => {\n  const {\n    loading,\n    compareData,\n    files,\n    rangedData,\n    user\n  } = useSelector(state => state.generalReducer);\n  const router = useRouter();\n  const heading = getheaderContent(router.pathname);\n  const noData = !files.length || JSON.stringify(rangedData) === '{}';\n  const noUser = JSON.stringify(user) === '{}' || !user;\n  const routeRequiresData = heading === 'Reports' || heading === 'Dashboard';\n  const centerContent = loading || noData;\n  const unprotectedRoute = router.pathname === '/sign-in' || router.pathname === '/sign-up';\n  const hideSideBar = router.pathname === '/settings/membership/';\n\n  if (noUser && !unprotectedRoute) {\n    return null;\n  }\n\n  if (user.profile && router.pathname !== '/settings/membership') {\n    if (!user.profile.hasSignedIn) {\n      router.push('/settings/membership');\n    }\n  }\n\n  return __jsx(Flex, {\n    justifyContent: \"center\",\n    bg: \"mainBg\",\n    flex: [1],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, unprotectedRoute ? __jsx(Body, {\n    centerContent: true,\n    headerSize: 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }, loading ? __jsx(Flex, {\n    justifyContent: \"center\",\n    height: \"90vh\",\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }, __jsx(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 19\n    }\n  })) : props.children) : __jsx(React.Fragment, null, hideSideBar ? null : __jsx(Sidebar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 37\n    }\n  }), __jsx(Flex, {\n    justifyContent: \"space-between\",\n    flexWrap: \"wrap\",\n    alignItems: \"flex-start\",\n    bg: \"mainBg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 15\n    }\n  }, __jsx(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }, heading, heading === 'Reports' || heading === 'Dashboard' ? __jsx(DateContainer, {\n    page: heading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 21\n    }\n  }) : null), __jsx(Body, {\n    centerContent: centerContent,\n    headerSize: JSON.stringify(compareData) !== '{}' ? 110 : 45,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, noData && routeRequiresData && !loading ? __jsx(NoDataFound, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 63\n    }\n  }) : loading ? __jsx(Flex, {\n    justifyContent: \"center\",\n    height: \"90vh\",\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 25\n    }\n  }, __jsx(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 27\n    }\n  })) : props.children))));\n});\nexport default Layout;\nconst Body = styled.div.withConfig({\n  displayName: \"Layout__Body\",\n  componentId: \"rqjs94-0\"\n})([\"overflow:auto;height:calc(100vh - \", \"px);width:100vw;padding-bottom:70px;\", \"\"], ({\n  headerSize\n}) => headerSize, ({\n  centerContent\n}) => {\n  if (centerContent) {\n    return `\n      display: flex;\n      justify-content: center;\n    `;\n  }\n});\nconst Header = styled.div.withConfig({\n  displayName: \"Layout__Header\",\n  componentId: \"rqjs94-1\"\n})([\"background:white;width:100%;min-height:50px;border-bottom:1px solid \", \";display:flex;align-items:center;padding-left:10px;font-wieght:\", \";color:\", \";font-weight:\", \";font-size:20px;justify-content:space-between;\"], ({\n  theme\n}) => theme.colors.mainBg, ({\n  theme\n}) => theme.fontWeights.bold, ({\n  theme\n}) => theme.colors.primary, ({\n  theme\n}) => theme.fontWeights.bold);","map":{"version":3,"sources":["/Users/samuelwood/development/mepop-reports/mepop-frontend/src/components/Layout.js"],"names":["useRouter","Flex","styled","Sidebar","DateContainer","useSelector","NoDataFound","Loading","withFirebase","getheaderContent","pathname","Layout","props","loading","compareData","files","rangedData","user","state","generalReducer","router","heading","noData","length","JSON","stringify","noUser","routeRequiresData","centerContent","unprotectedRoute","hideSideBar","profile","hasSignedIn","push","children","Body","div","headerSize","Header","theme","colors","mainBg","fontWeights","bold","primary"],"mappings":"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","sourcesContent":["import { useRouter } from 'next/router'\n\nimport Flex from '../styles/layout/Flex'\nimport styled from 'styled-components'\nimport Sidebar from './Sidebar'\nimport DateContainer from './DateContainer'\nimport { useSelector } from 'react-redux'\nimport NoDataFound from '../styles/elements/NoDataFound'\nimport Loading from '../styles/elements/Loading'\nimport { withFirebase } from '../firebase'\n\nconst getheaderContent = pathname => {\n  switch (pathname) {\n    case '/dashboard':\n      return 'Dashboard'\n    case '/reports':\n      return 'Reports'\n    case '/files':\n      return 'Files'\n    case '/settings/personal':\n      return 'Settings'\n    case '/fees-calculator':\n      return 'Fees Calculator'\n    default:\n      return 'Mepop Reports'\n  }\n}\nconst Layout = withFirebase((props) => {\n  const { loading, compareData, files, rangedData, user } = useSelector(state => state.generalReducer)\n  const router = useRouter()\n  const heading = getheaderContent(router.pathname)\n  const noData = !files.length || JSON.stringify(rangedData) === '{}'\n  const noUser = JSON.stringify(user) === '{}' || !user\n  const routeRequiresData = heading === 'Reports' || heading === 'Dashboard'\n  const centerContent = loading || noData\n  const unprotectedRoute = router.pathname === '/sign-in' || router.pathname === '/sign-up'\n  const hideSideBar = router.pathname === '/settings/membership/'\n\n  if (noUser && !unprotectedRoute) {\n    return null\n  }\n  if (user.profile && router.pathname !== '/settings/membership') {\n    if (!user.profile.hasSignedIn) {\n      router.push('/settings/membership')\n    }\n  }\n  return (\n    <Flex\n      justifyContent='center'\n      bg='mainBg'\n      flex={[1]}\n    >\n      {\n        unprotectedRoute ? (\n          <Body\n            centerContent\n            headerSize={0}\n          >\n            {\n              loading ? (\n                <Flex justifyContent='center' height='90vh' alignItems='center'>\n                  <Loading />\n                </Flex>\n              ) : props.children\n            }\n          </Body>\n        )\n          : (\n\n            <>\n              {hideSideBar ? null : <Sidebar />}\n              <Flex\n                justifyContent='space-between'\n                flexWrap='wrap'\n                alignItems='flex-start'\n                bg='mainBg'\n              >\n\n                <Header>\n                  {heading}\n                  {(heading === 'Reports' || heading === 'Dashboard') ? (\n                    <DateContainer page={heading} />\n                  ) : null}\n                </Header>\n                <Body\n                  centerContent={centerContent}\n                  headerSize={JSON.stringify(compareData) !== '{}' ? 110 : 45}\n                >\n                  {\n                    noData && routeRequiresData && !loading ? <NoDataFound />\n                      : loading ? (\n                        <Flex justifyContent='center' height='90vh' alignItems='center'>\n                          <Loading />\n                        </Flex>\n                      ) : props.children\n                  }\n\n                </Body>\n              </Flex>\n            </>\n          )\n      }\n    </Flex>\n\n  )\n})\n\nexport default Layout\n\nconst Body = styled.div`\n    overflow: auto;\n    height:calc(100vh - ${({ headerSize }) => headerSize}px);\n    width:100vw;\n    padding-bottom:70px;\n${({ centerContent }) => {\n  if (centerContent) {\n    return (`\n      display: flex;\n      justify-content: center;\n    `)\n  }\n}}\n`\nconst Header = styled.div`\n    background: white;\n    width: 100%;\n    min-height: 50px;\n    border-bottom: 1px solid ${({ theme }) => theme.colors.mainBg};\n    display: flex;\n    align-items:center;\n    padding-left: 10px;\n    font-wieght: ${({ theme }) => theme.fontWeights.bold};\n    color: ${({ theme }) => theme.colors.primary};\n    font-weight: ${({ theme }) => theme.fontWeights.bold};\n    font-size: 20px;\n    justify-content: space-between;\n`\n"]},"metadata":{},"sourceType":"module"}