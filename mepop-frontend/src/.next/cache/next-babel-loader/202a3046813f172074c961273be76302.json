{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/Users/samuelwood/development/mepop-reports/mepop-frontend/src/components/dashboard/SaleTable/index.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport _ from 'lodash';\nimport Table from '../../../styles/elements/Table';\nimport Input from '../../../styles/elements/Input';\nimport Flex from '../../../styles/layout/Flex';\nimport SaleDetails from '../../general/SaleDetails';\nimport Text from '../../../styles/elements/Text';\nimport { formatSalesTable } from '../../reports/util/tables';\n\nvar SaleTable = function SaleTable(_ref) {\n  _s();\n\n  var data = _ref.data,\n      getUrl = _ref.getUrl;\n  var formattedData = formatSalesTable(data);\n\n  var _useState = useState(''),\n      searchTerm = _useState[0],\n      setTerm = _useState[1];\n\n  var _useState2 = useState(formattedData),\n      tableData = _useState2[0],\n      setTableData = _useState2[1];\n\n  var _useState3 = useState(tableData[0]),\n      activeRow = _useState3[0],\n      activateRow = _useState3[1];\n\n  var idx = tableData.indexOf(activeRow);\n  useEffect(function () {\n    if (!searchTerm) setTableData(data);\n    var filtered = formattedData.filter(function (item) {\n      return item.username.includes(searchTerm) || item.name.includes(searchTerm) || item['date sold'].includes(searchTerm) || item['item price'].includes(searchTerm) || item.name.includes(searchTerm) || item['item description'].includes(searchTerm);\n    });\n    setTableData(filtered);\n  }, [searchTerm, data]);\n  return __jsx(Flex, {\n    mb: \"30px\",\n    flexWrap: \"wrap\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 5\n    }\n  }, __jsx(Table, {\n    minWidth: \"500px\",\n    activeRow: idx,\n    headerContent: __jsx(Header, {\n      data: tableData,\n      setTerm: setTerm,\n      term: searchTerm,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 24\n      }\n    }),\n    data: tableData,\n    columnLabels: !activeRow ? ['date sold', 'username', 'name', 'item price', 'buyer-paid shipping', 'seller-paid shipping', 'depop fees', 'item description'] : ['date sold', 'username', 'name', 'item price'],\n    handleRowClick: function handleRowClick(row, i) {\n      activateRow(row.rowData);\n    },\n    p: \"0px\",\n    tableHeight: 420 - 40,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }), activeRow ? __jsx(SaleDetails, {\n    row: activeRow,\n    getUrl: getUrl,\n    onClose: function onClose() {\n      return activateRow(null);\n    },\n    currencyType: data.currency_type,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }) : null);\n};\n\n_s(SaleTable, \"uLKIA9kxtR70n0ha0REGsxmopao=\");\n\n_c = SaleTable;\nexport default SaleTable;\n\nvar Header = function Header(_ref2) {\n  var data = _ref2.data,\n      setTerm = _ref2.setTerm,\n      term = _ref2.term;\n  return __jsx(Flex, {\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    width: [1],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }\n  }, __jsx(Text, {\n    mr: \"5px\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, \"All Sales - \", data.length), __jsx(Flex, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, __jsx(StyledInput, {\n    borderColor: \"greyLight\",\n    placeholder: \"Search...\",\n    pl: \"10px\",\n    value: term,\n    onChange: function onChange(e) {\n      return setTerm(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  })));\n};\n\n_c2 = Header;\nvar StyledInput = styled(Input).withConfig({\n  displayName: \"SaleTable__StyledInput\",\n  componentId: \"sc-1iov6uj-0\"\n})([\"border-radius:4px;border-color:\", \";font-weight:\", \";\"], function (_ref3) {\n  var theme = _ref3.theme;\n  return theme.colors.mainBg;\n}, function (_ref4) {\n  var theme = _ref4.theme;\n  return theme.fontWeights.bold;\n});\n_c3 = StyledInput;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"SaleTable\");\n$RefreshReg$(_c2, \"Header\");\n$RefreshReg$(_c3, \"StyledInput\");","map":{"version":3,"sources":["/Users/samuelwood/development/mepop-reports/mepop-frontend/src/components/dashboard/SaleTable/index.js"],"names":["useState","useEffect","styled","_","Table","Input","Flex","SaleDetails","Text","formatSalesTable","SaleTable","data","getUrl","formattedData","searchTerm","setTerm","tableData","setTableData","activeRow","activateRow","idx","indexOf","filtered","filter","item","username","includes","name","row","i","rowData","currency_type","Header","term","length","e","target","value","StyledInput","theme","colors","mainBg","fontWeights","bold"],"mappings":"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","sourcesContent":["\nimport { useState, useEffect } from 'react'\nimport styled from 'styled-components'\nimport _ from 'lodash'\n\nimport Table from '../../../styles/elements/Table'\nimport Input from '../../../styles/elements/Input'\nimport Flex from '../../../styles/layout/Flex'\nimport SaleDetails from '../../general/SaleDetails'\nimport Text from '../../../styles/elements/Text'\nimport { formatSalesTable } from '../../reports/util/tables'\n\nconst SaleTable = ({ data, getUrl }) => {\n  const formattedData = formatSalesTable(data)\n  const [searchTerm, setTerm] = useState('')\n  const [tableData, setTableData] = useState(formattedData)\n  const [activeRow, activateRow] = useState(tableData[0])\n  const idx = tableData.indexOf(activeRow)\n\n  useEffect(() => {\n    if (!searchTerm) setTableData(data)\n    const filtered = formattedData.filter((item) => {\n      return (\n        item.username.includes(searchTerm) ||\n        item.name.includes(searchTerm) ||\n        item['date sold'].includes(searchTerm) ||\n        item['item price'].includes(searchTerm) ||\n        item.name.includes(searchTerm) ||\n        item['item description'].includes(searchTerm)\n      )\n    })\n    setTableData(filtered)\n  }, [searchTerm, data])\n  return (\n    <Flex mb='30px' flexWrap='wrap'>\n      <Table\n        minWidth='500px'\n        activeRow={idx}\n        headerContent={<Header data={tableData} setTerm={setTerm} term={searchTerm} />}\n        data={tableData}\n        columnLabels={\n          !activeRow\n            ? ['date sold', 'username', 'name', 'item price', 'buyer-paid shipping', 'seller-paid shipping', 'depop fees', 'item description']\n            : ['date sold', 'username', 'name', 'item price']\n        }\n        handleRowClick={(row, i) => {\n          activateRow(row.rowData)\n        }}\n        p='0px'\n        tableHeight={420 - 40}\n      />\n      {activeRow\n        ? (\n          <SaleDetails row={activeRow} getUrl={getUrl} onClose={() => activateRow(null)} currencyType={data.currency_type} />\n        )\n        : null}\n    </Flex>\n  )\n}\n\nexport default SaleTable\n\nconst Header = ({ data, setTerm, term }) => {\n  return (\n    <Flex alignItems='center' justifyContent='space-between' width={[1]}>\n      <Text mr='5px'>\n          All Sales - {data.length}\n      </Text>\n      <Flex>\n\n        <StyledInput\n          borderColor='greyLight'\n          placeholder='Search...'\n          pl='10px'\n          value={term}\n          onChange={(e) => setTerm(e.target.value)}\n        />\n      </Flex>\n    </Flex>\n  )\n}\n\nconst StyledInput = styled(Input)`\n  border-radius: 4px;\n  border-color: ${({ theme }) => theme.colors.mainBg};\n  font-weight: ${({ theme }) => theme.fontWeights.bold};\n`\n"]},"metadata":{},"sourceType":"module"}