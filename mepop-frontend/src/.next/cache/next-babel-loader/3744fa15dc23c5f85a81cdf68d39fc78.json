{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/Users/samuelwood/development/mepop-firebase/packages/mepop-next/src/components/Layout.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useRouter } from 'next/router';\nimport Flex from '../styles/layout/Flex';\nimport styled from 'styled-components';\nimport Sidebar from './Sidebar';\nimport DateContainer from './DateContainer';\nimport { useSelector } from 'react-redux';\nimport NoDataFound from '../styles/elements/NoDataFound';\nimport Loading from '../styles/elements/Loading';\nimport { withFirebase } from '../firebase';\n\nvar getheaderContent = function getheaderContent(pathname) {\n  switch (pathname) {\n    case '/dashboard':\n      return 'Dashboard';\n\n    case '/reports':\n      return 'Reports';\n\n    case '/files':\n      return 'Files';\n\n    case '/settings/personal':\n      return 'Settings';\n\n    case '/fees-calculator':\n      return 'Fees Calculator';\n\n    default:\n      return 'Mepop Reports';\n  }\n};\n\nvar Layout = withFirebase(_c = _s(function (props) {\n  _s();\n\n  var _useSelector = useSelector(function (state) {\n    return state.generalReducer;\n  }),\n      loading = _useSelector.loading,\n      compareData = _useSelector.compareData,\n      files = _useSelector.files,\n      rangedData = _useSelector.rangedData,\n      user = _useSelector.user;\n\n  var router = useRouter();\n  var heading = getheaderContent(router.pathname);\n  var noData = !files.length || JSON.stringify(rangedData) === '{}';\n  var noUser = JSON.stringify(user) === '{}';\n  var routeRequiresData = heading === 'Reports' || heading === 'Dashboard';\n  var centerContent = loading || noData;\n  var unprotectedRoute = router.pathname === '/sign-in' || router.pathname === '/sign-up';\n  var hideSideBar = router.pathname === '/settings/membership/';\n\n  if (noUser && !unprotectedRoute) {\n    return null;\n  }\n\n  if (user.profile && router.pathname !== '/settings/membership') {\n    if (!user.profile.hasSignedIn) {\n      router.push('/settings/membership');\n    }\n  }\n\n  return __jsx(Flex, {\n    justifyContent: \"center\",\n    bg: \"mainBg\",\n    flex: [1],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, unprotectedRoute ? __jsx(Body, {\n    centerContent: true,\n    headerSize: 0,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }, loading ? __jsx(Flex, {\n    justifyContent: \"center\",\n    height: \"90vh\",\n    alignItems: \"center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }, __jsx(Loading, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 19\n    }\n  })) : props.children) : __jsx(React.Fragment, null, hideSideBar ? null : __jsx(Sidebar, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 37\n    }\n  }), __jsx(Flex, {\n    justifyContent: \"space-between\",\n    flexWrap: \"wrap\",\n    alignItems: \"flex-start\",\n    bg: \"mainBg\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 15\n    }\n  }, __jsx(Header, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }, heading, heading === 'Reports' || heading === 'Dashboard' ? __jsx(DateContainer, {\n    page: heading,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 21\n    }\n  }) : null), __jsx(Body, {\n    centerContent: centerContent,\n    headerSize: JSON.stringify(compareData) !== '{}' ? 110 : 45,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, noData && routeRequiresData && !loading ? __jsx(NoDataFound, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 63\n    }\n  }) : loading ? __jsx(Flex, {\n    justifyContent: \"center\",\n    height: \"90vh\",\n    alignItems: \"center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 25\n    }\n  }, __jsx(Loading, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 27\n    }\n  })) : props.children))));\n}, \"b/n0G0xGRDNa5N8FuSgAyVasxoI=\", false, function () {\n  return [useSelector, useRouter];\n}));\n_c2 = Layout;\nexport default Layout;\nvar Body = styled.div.withConfig({\n  displayName: \"Layout__Body\",\n  componentId: \"rqjs94-0\"\n})([\"overflow:auto;height:calc(100vh - \", \"px);width:100vw;padding-bottom:70px;\", \"\"], function (_ref) {\n  var headerSize = _ref.headerSize;\n  return headerSize;\n}, function (_ref2) {\n  var centerContent = _ref2.centerContent;\n\n  if (centerContent) {\n    return \"\\n      display: flex;\\n      justify-content: center;\\n    \";\n  }\n});\n_c3 = Body;\nvar Header = styled.div.withConfig({\n  displayName: \"Layout__Header\",\n  componentId: \"rqjs94-1\"\n})([\"background:white;width:100%;min-height:50px;border-bottom:1px solid \", \";display:flex;align-items:center;padding-left:10px;font-wieght:\", \";color:\", \";font-weight:\", \";font-size:20px;justify-content:space-between;\"], function (_ref3) {\n  var theme = _ref3.theme;\n  return theme.colors.mainBg;\n}, function (_ref4) {\n  var theme = _ref4.theme;\n  return theme.fontWeights.bold;\n}, function (_ref5) {\n  var theme = _ref5.theme;\n  return theme.colors.primary;\n}, function (_ref6) {\n  var theme = _ref6.theme;\n  return theme.fontWeights.bold;\n});\n_c4 = Header;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"Layout$withFirebase\");\n$RefreshReg$(_c2, \"Layout\");\n$RefreshReg$(_c3, \"Body\");\n$RefreshReg$(_c4, \"Header\");","map":{"version":3,"sources":["/Users/samuelwood/development/mepop-firebase/packages/mepop-next/src/components/Layout.js"],"names":["useRouter","Flex","styled","Sidebar","DateContainer","useSelector","NoDataFound","Loading","withFirebase","getheaderContent","pathname","Layout","props","state","generalReducer","loading","compareData","files","rangedData","user","router","heading","noData","length","JSON","stringify","noUser","routeRequiresData","centerContent","unprotectedRoute","hideSideBar","profile","hasSignedIn","push","children","Body","div","headerSize","Header","theme","colors","mainBg","fontWeights","bold","primary"],"mappings":"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","sourcesContent":["import { useRouter } from 'next/router'\n\nimport Flex from '../styles/layout/Flex'\nimport styled from 'styled-components'\nimport Sidebar from './Sidebar'\nimport DateContainer from './DateContainer'\nimport { useSelector } from 'react-redux'\nimport NoDataFound from '../styles/elements/NoDataFound'\nimport Loading from '../styles/elements/Loading'\nimport { withFirebase } from '../firebase'\n\nconst getheaderContent = pathname => {\n  switch (pathname) {\n    case '/dashboard':\n      return 'Dashboard'\n    case '/reports':\n      return 'Reports'\n    case '/files':\n      return 'Files'\n    case '/settings/personal':\n      return 'Settings'\n    case '/fees-calculator':\n      return 'Fees Calculator'\n    default:\n      return 'Mepop Reports'\n  }\n}\nconst Layout = withFirebase((props) => {\n  const { loading, compareData, files, rangedData, user } = useSelector(state => state.generalReducer)\n  const router = useRouter()\n  const heading = getheaderContent(router.pathname)\n  const noData = !files.length || JSON.stringify(rangedData) === '{}'\n  const noUser = JSON.stringify(user) === '{}'\n  const routeRequiresData = heading === 'Reports' || heading === 'Dashboard'\n  const centerContent = loading || noData\n  const unprotectedRoute = router.pathname === '/sign-in' || router.pathname === '/sign-up'\n  const hideSideBar = router.pathname === '/settings/membership/'\n\n  if (noUser && !unprotectedRoute) {\n    return null\n  }\n  if (user.profile && router.pathname !== '/settings/membership') {\n    if (!user.profile.hasSignedIn) {\n      router.push('/settings/membership')\n    }\n  }\n  return (\n    <Flex\n      justifyContent='center'\n      bg='mainBg'\n      flex={[1]}\n    >\n      {\n        unprotectedRoute ? (\n          <Body\n            centerContent\n            headerSize={0}\n          >\n            {\n              loading ? (\n                <Flex justifyContent='center' height='90vh' alignItems='center'>\n                  <Loading />\n                </Flex>\n              ) : props.children\n            }\n          </Body>\n        )\n          : (\n\n            <>\n              {hideSideBar ? null : <Sidebar />}\n              <Flex\n                justifyContent='space-between'\n                flexWrap='wrap'\n                alignItems='flex-start'\n                bg='mainBg'\n              >\n\n                <Header>\n                  {heading}\n                  {(heading === 'Reports' || heading === 'Dashboard') ? (\n                    <DateContainer page={heading} />\n                  ) : null}\n                </Header>\n                <Body\n                  centerContent={centerContent}\n                  headerSize={JSON.stringify(compareData) !== '{}' ? 110 : 45}\n                >\n                  {\n                    noData && routeRequiresData && !loading ? <NoDataFound />\n                      : loading ? (\n                        <Flex justifyContent='center' height='90vh' alignItems='center'>\n                          <Loading />\n                        </Flex>\n                      ) : props.children\n                  }\n\n                </Body>\n              </Flex>\n            </>\n          )\n      }\n    </Flex>\n\n  )\n})\n\nexport default Layout\n\nconst Body = styled.div`\n    overflow: auto;\n    height:calc(100vh - ${({ headerSize }) => headerSize}px);\n    width:100vw;\n    padding-bottom:70px;\n${({ centerContent }) => {\n  if (centerContent) {\n    return (`\n      display: flex;\n      justify-content: center;\n    `)\n  }\n}}\n`\nconst Header = styled.div`\n    background: white;\n    width: 100%;\n    min-height: 50px;\n    border-bottom: 1px solid ${({ theme }) => theme.colors.mainBg};\n    display: flex;\n    align-items:center;\n    padding-left: 10px;\n    font-wieght: ${({ theme }) => theme.fontWeights.bold};\n    color: ${({ theme }) => theme.colors.primary};\n    font-weight: ${({ theme }) => theme.fontWeights.bold};\n    font-size: 20px;\n    justify-content: space-between;\n`\n"]},"metadata":{},"sourceType":"module"}