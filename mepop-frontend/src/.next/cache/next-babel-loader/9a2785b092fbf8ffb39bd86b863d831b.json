{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { memo, useMemo, useState } from 'react';\nimport moment from 'moment';\nimport LineChart from '../../../styles/reporting/LineChart';\nimport { groupByDate } from '../util/grouping';\nimport Flex from '../../../styles/layout/Flex';\nimport Button from '../../../styles/elements/Button';\nconst VariableLineChart = memo(({\n  data\n}) => {\n  const {\n    0: variables,\n    1: updateVars\n  } = useState([{\n    dataKey: 'Items Sold',\n    size: 70,\n    color: 'teal',\n    disabled: false\n  }, {\n    dataKey: 'Gross',\n    size: 70,\n    color: 'pastelPurple',\n    disabled: true\n  }, {\n    dataKey: 'Net',\n    size: 70,\n    color: 'pastelGreen',\n    disabled: true\n  }]);\n  const chartData = useMemo(() => groupByDate(data, true), [data]);\n\n  const handleClick = i => {\n    const newVars = [...variables];\n    newVars[i].disabled = !newVars[i].disabled;\n    updateVars(newVars);\n  };\n\n  const Buttons = () => __jsx(Flex, null, variables.map(({\n    dataKey,\n    color,\n    disabled\n  }, i) => __jsx(Button, {\n    key: i,\n    mr: \"4px\",\n    bg: \"mainBg\",\n    color: disabled ? 'greyDark' : color,\n    onClick: () => handleClick(i)\n  }, dataKey)));\n\n  return __jsx(LineChart, {\n    headerContent: __jsx(Buttons, null),\n    data: chartData,\n    xdataKey: \"Date Sold\",\n    lines: variables,\n    hideDot: true,\n    tickFormatter: formatXAxis,\n    labelFormatter: formatLabel,\n    formatTooltip: (t, l) => formatTooltip(t, l, data)\n  });\n});\nexport default VariableLineChart;\n\nconst formatXAxis = tickItem => {\n  return moment(tickItem, 'MM/DD/YYYY').format('M/D');\n};\n\nconst formatLabel = tickItem => {\n  return moment(tickItem, 'MM/DD/YYYY').format('MMM Do YYYY');\n};\n\nconst formatTooltip = (value, name, props) => {\n  if (name !== 'Items Sold') {\n    const num = value.toLocaleString(undefined, {\n      minimumFractionDigits: 2,\n      maximumFractionDigits: 2\n    });\n    return `$${num}`;\n  }\n\n  return value;\n};","map":null,"metadata":{},"sourceType":"module"}